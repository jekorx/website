{"./":{"url":"./","title":"前言","keywords":"","body":"个人主页 主页地址：https://blog.wdg.pub/主要是个人学习、工作经验的总结，不断完善中··· 如果存在错误，或者有好的建议还请多指教，提交反馈 个人GitHub地址：https://github.com/jekorx个人Npm地址：https://www.npmjs.com/~jekorx 其他相关链接 1、cnode-react，是CNodejs移动webapp react实现，可在CNodejs社区注册账号，使用AccessToken登录，点此查看演示，请使用移动网页模式查看，由于路由是history模式（无法配置github web服务器），在非 / 根目录刷新会4042、vue-carousel-card，vue轮播，点此查看演示3、particle-wave，WebGL粒子波浪效果，点此查看演示4、bio，vue个人简历模版，点此查看演示5、gallery-by-react，react画廊，点此查看演示 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:40 "},"index/nodejs.html":{"url":"index/nodejs.html","title":"Node.js","keywords":"","body":"Node.js 主要是基于Node.js一些常用工具的介绍，基本用法总结。 Yarn PM2 Http-Server Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-22 11:25:56 "},"nodejs/yarn.html":{"url":"nodejs/yarn.html","title":"Yarn","keywords":"","body":"yarn 快速、可靠、安全的依赖管理工具。比npm好用 0_0 安装 # 使用npm安装 npm i -g yarn # 使用npm升级yarn npm update -g yarn 相关问题及解决方案 # 可能会安装失败，原因基本都是权限问题 # MacOS / Linux sudo npm i -g yarn # windows可以使用管理员权限启动的命令行 # 检查 yarn -v # 如果出现找不到该命令的问题，需要配置全局环境变量 # 该问题多出现在windows系统 # 环境变量中增加npm安装的全局工具的路径 # windows C:\\Users\\\\AppData\\Roaming\\npm # yarn安装的全局工具不能用的问题 # 该问题多出现在windows系统 # 环境变量中增加yarn安装的全局工具的bin路径 # windows C:\\Users\\\\AppData\\Local\\Yarn\\bin 常用命令 以安装react和http-server为例 npm yarn npm i yarn npm i react -S yarn add react npm uninstall react -S yarn remove react npm i react -D yarn add react -D npm update react -S yarn upgrade react npm i -g http-server yarn global add http-server npm update -g http-server yarn global upgrade http-server 注意：yarn全局安装关键字global必须跟在yarn关键字后面，否则会安装global Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"nodejs/process-manager.html":{"url":"nodejs/process-manager.html","title":"PM2","keywords":"","body":"PM2（Process Manager 2） Node进程管理工具，简化Node App管理的繁琐任务，如性能监控、自动重启、负载均衡等。 常用命令 # 启动app pm2 start yarn --name AppName -- start # 查看所有app pm2 list # or pm2 ls # 启动，all表示全部app，CMD表示命令（如：yarn），-i max 表示cluster模式，数量为最大cpu核数，--watch表示当文件变化时自动重启应用，args表示参数 pm2 start [id | AppName | all | CMD] --name [AppName] -i max --watch -- [args] # 停止，all表示全部app pm2 stop [id | AppName | all] # 重启，相当于先 stop 再 start，会导致服务短时间内无法使用，all表示全部app pm2 restart [id | AppName | all] # 热重载，多用于cluster模式，逐个重新启动所有进程，始终保持至少一个进程在运行，实现不停机重载 pm2 reload [AppName] # 删除，all表示全部app pm2 delete [id | AppName | all] # 监控 pm2 monit [id | AppName] # 日志 pm2 logs 常见错误 windows系统常见错误（1） # 报错信息 C:\\USERS\\\\APPDATA\\ROAMING\\NPM\\YARN.CMD:1 (function (exports, require, module, __filename, __dirname) { @IF EXIST \"%~dp0\\node.exe\" ( ^ SyntaxError: Invalid or unexpected token at new Script (vm.js:79:7) at createScript (vm.js:251:10) at Object.runInThisContext (vm.js:303:10) at Module._compile (internal/modules/cjs/loader.js:656:28) at Object.Module._extensions..js (internal/modules/cjs/loader.js:699:10) at Module.load (internal/modules/cjs/loader.js:598:32) at tryModuleLoad (internal/modules/cjs/loader.js:537:12) at Function.Module._load (internal/modules/cjs/loader.js:529:3) at Object. (C:\\Users\\\\AppData\\Local\\Yarn\\Data\\global\\node_modules\\pm2\\lib\\ProcessContainerFork.js:27:21) at Module._compile (internal/modules/cjs/loader.js:688:30) C:\\USERS\\\\APPDATA\\ROAMING\\NPM\\YARN.CMD:1 (function (exports, require, module, __filename, __dirname) { @IF EXIST \"%~dp0\\node.exe\" ( # 错误分析 在Windows上，yarn.cmd它不是有效的，您必须直接运行Node.js命令 # 解决方法 pm2 start C:\\Users\\\\AppData\\Roaming\\npm\\node_modules\\yarn\\bin\\yarn.js --name nuxt -- start Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-07 08:42:43 "},"nodejs/http-server.html":{"url":"nodejs/http-server.html","title":"Http-Server","keywords":"","body":"http-server http-server是一个简单的，零配置的命令行http服务器。 安装 npm install http-server -g # or yarn global add http-server 使用 http-server [path] [options] 可用选项 -p 要使用的端口（默认为8080） -a 要使用的地址（默认为0.0.0.0） -d 显示目录列表（默认为'True'） -i 显示autoIndex（默认为'True'） -g或者--gzip当启用时（默认为'False'），它将./public/some-file.js.gz代替./public/some-file.js当文件的gzip压缩版本存在且请求接受gzip编码时。 -e或者--ext如果没有提供默认文件扩展名（默认为'html'） -s或者--silent从输出中抑制日志消息 --cors通过Access-Control-Allow-Origin标头启用CORS -o 启动服务器后打开浏览器窗口 -c设置缓存控制max-age标头的缓存时间（以秒为单位），例如-c10为10秒（默认为“3600”）。要禁用缓存，请使用-c-1。 -U或--utc在日志消息中使用UTC时间格式。 -P或者将--proxy所有无法在本地解析的请求代理到给定的URL。例如：-P http://someurl.com -S或--ssl启用https。 -C或--certssl cert文件的路径（默认值：cert.pem）。 -K或--keyssl密钥文件的路径（默认值：key.pem）。 -r或--robots提供/robots.txt（其内容默认为'User-agent：* \\ nDisisis：/'） -h或--help打印此列表并退出。 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"index/frontend.html":{"url":"index/frontend.html","title":"前端","keywords":"","body":"Web前端 前端相关使用总结。 Axios Css EditorConfig ESLint Less 防抖节流 Webpack Nuxt.js 高德vue地图选择器 VueQuillEditor Vue-Cli-3 React-Cli-2 Chrome图片下载 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-10 19:13:09 "},"frontend/axios.html":{"url":"frontend/axios.html","title":"Axios","keywords":"","body":"Axios Axios 是一个基于promise的HTTP库，可以用在浏览器和node.js中。 安装 yarn add axios # or npm i axios -S 基本使用 /** * 1、基础使用1 * axios(config) * 2、基础使用2，url不在配置中指定 * axios(url[, config]) * 3、默认请求方法别名 * 使用别名方法时， url、method、data 这些属性都不必在配置中指定。 * axios.request(config) * axios.get(url[, config]) * axios.delete(url[, config]) * axios.head(url[, config]) * axios.post(url[, data[, config]]) * axios.put(url[, data[, config]]) * axios.patch(url[, data[, config]]) * 4、并发 * axios.all(iterable) * axios.spread(callback) * 例： * let axiosList=[ * axios.get('url1', { params: 'xxx' }), * axios.get('url2', { params: 'xxx' }) * ] * axios.all(axiosList).then(axios.spread((res1,res2) => { * console.log(res1,res2) // 分别是两个请求的返回值 * }) * 5、创建实例 * axios.create([config]) */ /** * promise方式 */ function get () { // GET请求参数名必须是params，URL参数，可参考详细配置 axios.get('/user', { params: { ID: '12345' } }) .then(res => { console.log(res) }) .catch(err => { console.log(err) }) } function post () { axios.post('/user', { firstName: 'Fred', lastName: 'Flintstone' }) .then(res => { console.log(res) }) .catch(err => { console.log(err) }) } /** * async/await方式 */ async function gets () { try { let data1 = await axios.get('url1', { params: 'xxx' }) let data2 = await axios.get('url2', { params: 'xxx' }) console.log(data1, data2) } catch (error) { console.log(error) } } 常用配置 import axios from 'axios' import qs from 'qs' /** * axios config */ // url 前缀 axios.defaults.baseURL = process.env.NODE_ENV === 'production' ? '/web/' : '/api/' // 跨域请求时携带cookie axios.defaults.withCredentials = true /** * axios 默认 Content-Type: application/json;charset=UTF-8 * 请求正文为Request Payload，格式是json格式的字符串 * 用@RequestParam是接收不到参数的，只能用@RequestBody * 配置transformRequest，参数使用qs转换 * 请求头Content-Type会被设置为: application/x-www-form-urlencoded * 请求正文为Form Data，格式是key=value&key1=value2 * 对于 Form Data 请求，后台无需任何注解，即可解析参数 */ // 请求数据转json字符串（JSON.stringify()不行） axios.defaults.transformRequest = [params => qs.stringify(params)] // 请求统一额外参数 axios.defaults.params = { apiuser: 'debug' } // 请求拦截器 axios.interceptors.request.use(config => { // 请求发出前，可以开始加载动画之类的操作 return config }, error => { // 请求发出错误处理 return Promise.reject(error) }) // 响应拦截器 axios.interceptors.response.use(response => { // 接收到响应处理，停止加载动画之类操作 return response }, error => { // 响应错误处理，统一异常处理 console.log(error.stack) return Promise.reject(error) }) 使用全局默认配置，特殊使用时配置 使用了上述全局配置之后，请求头Content-Type会被设置为: application/x-www-form-urlencoded 如果上传文件需要将Content-Type设置为multipart/form-data，具体使用如下所示 /** * 使用axios上传文件，ajax文件上传 */ // input(type=\"file\" onchange=\"fileChange\" multiple=\"multiple\") // 设置multiple可以选择多个文件 function fileChange (e) { // 获取文件对象数组 let files = e.target.files // 创建一个FormData，存储需要提交的表单数据，如果通过ajax方式上传文件，必须使用FormData let formData = new FormData() // 普通表单数据 formData.append('num', 123) formData.append('name', 'aa') // 文件数据 formData.append('file', files[0]) // 多个文件数据需要遍历放入 for (let f of files) { formData.append('files', f) } // 上传data必须转为formData axios.post('/upload', formData, { // 覆盖默认设置中的transformRequest设置 transformRequest: [(params, headers) => { // 请求头Content-Type 为multipart/form-data headers = { 'Content-Type': 'multipart/form-data' } // 取消qs参数转换 return params }], // 上传进度 onUploadProgress ({ loaded, total }) { let p = (loaded / total * 100).toFixed(0) + '%' console.log(p) } }).then(res => console.log(res)) } 详细配置 { // `url` 是用于请求的服务器 URL url: '/user', // `method` 是创建请求时使用的方法 method: 'get', // 默认是 get // `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL。 // 它可以通过设置一个 `baseURL` 便于为 axios 实例的方法传递相对 URL baseURL: 'https://some-domain.com/api/', // `transformRequest` 允许在向服务器发送前，修改请求数据 // 只能用在 'PUT', 'POST' 和 'PATCH' 这几个请求方法 // 后面数组中的函数必须返回一个字符串，或 ArrayBuffer，或 Stream transformRequest: [function (data) { // 对 data 进行任意转换处理 return data; }], // `transformResponse` 在传递给 then/catch 前，允许修改响应数据 transformResponse: [function (data) { // 对 data 进行任意转换处理 return data; }], // `headers` 是即将被发送的自定义请求头 headers: {'X-Requested-With': 'XMLHttpRequest'}, // `params` 是即将与请求一起发送的 URL 参数 // 必须是一个无格式对象(plain object)或 URLSearchParams 对象 params: { ID: 12345 }, // `paramsSerializer` 是一个负责 `params` 序列化的函数 // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/) paramsSerializer: function(params) { return Qs.stringify(params, {arrayFormat: 'brackets'}) }, // `data` 是作为请求主体被发送的数据 // 只适用于这些请求方法 'PUT', 'POST', 和 'PATCH' // 在没有设置 `transformRequest` 时，必须是以下类型之一： // - string, plain object, ArrayBuffer, ArrayBufferView, URLSearchParams // - 浏览器专属：FormData, File, Blob // - Node 专属： Stream data: { firstName: 'Fred' }, // `timeout` 指定请求超时的毫秒数(0 表示无超时时间) // 如果请求话费了超过 `timeout` 的时间，请求将被中断 timeout: 1000, // `withCredentials` 表示跨域请求时是否需要使用凭证 withCredentials: false, // 默认的 // `adapter` 允许自定义处理请求，以使测试更轻松 // 返回一个 promise 并应用一个有效的响应 (查阅 [response docs](#response-api)). adapter: function (config) { /* ... */ }, // `auth` 表示应该使用 HTTP 基础验证，并提供凭据 // 这将设置一个 `Authorization` 头，覆写掉现有的任意使用 `headers` 设置的自定义 `Authorization`头 auth: { username: 'janedoe', password: 's00pers3cret' }, // `responseType` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream' responseType: 'json', // 默认的 // `xsrfCookieName` 是用作 xsrf token 的值的cookie的名称 xsrfCookieName: 'XSRF-TOKEN', // default // `xsrfHeaderName` 是承载 xsrf token 的值的 HTTP 头的名称 xsrfHeaderName: 'X-XSRF-TOKEN', // 默认的 // `onUploadProgress` 允许为上传处理进度事件 onUploadProgress: function (progressEvent) { // 对原生进度事件的处理 }, // `onDownloadProgress` 允许为下载处理进度事件 onDownloadProgress: function (progressEvent) { // 对原生进度事件的处理 }, // `maxContentLength` 定义允许的响应内容的最大尺寸 maxContentLength: 2000, // `validateStatus` 定义对于给定的HTTP 响应状态码是 resolve 或 reject promise 。如果 `validateStatus` 返回 `true` (或者设置为 `null` 或 `undefined`)，promise 将被 resolve; 否则，promise 将被 rejecte validateStatus: function (status) { return status >= 200 && status Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-27 10:31:08 "},"frontend/css.html":{"url":"frontend/css.html","title":"Css","keywords":"","body":"Css样式 1、文本域内容解析换行，解析换行符 white-space: pre-wrap; Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-10 19:12:35 "},"frontend/editorconfig.html":{"url":"frontend/editorconfig.html","title":"EditorConfig","keywords":"","body":"EditorConfig 项目根目录中添加.editorconfig文件，并在开发工具中安装相应插件，如：VSCode安装EditorConfig for Visual Studio Code # editorconfig.org root = true [*] indent_style = space indent_size = 2 end_of_line = lf charset = utf-8 trim_trailing_whitespace = true insert_final_newline = true # markdown文件不去掉结尾空格 [*.md] trim_trailing_whitespace = false Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"frontend/eslint.html":{"url":"frontend/eslint.html","title":"ESLint","keywords":"","body":"ESLint ESLint是一个语法规则和代码风格的检查工具。项目中使用ESLint可以避免一些低级错误、格式错误，统一项目代码风格，更有利于团队协作等。开发工具中需添加ESLint扩展，如：VSCode中ESLint插件。个人更倾向于使用standard规范，以standard规范为例。 在Reactjs脚手架create-react-app@2.1.8中使用ESLint // 1、安装依赖 yarn add eslint@5.12.0 eslint-config-standard eslint-plugin-import eslint-plugin-node eslint-plugin-promise eslint-plugin-standard -D // 2、eslint相关配置，项目根目录中添加.eslintrc文件 { \"extends\": [ \"standard\", \"plugin:react/recommended\" ], \"env\": { \"browser\": true, \"commonjs\": true, \"node\": true, \"es6\": true }, \"parser\": \"babel-eslint\", \"parserOptions\": { \"ecmaVersion\": 7, \"sourceType\": \"module\", \"ecmaFeatures\": { \"jsx\": true, \"legacyDecorators\": true } }, \"settings\": { \"react\": { \"version\": \"detect\" } }, \"plugins\": [ \"react\" ], \"rules\": { \"arrow-parens\": [ \"error\", \"as-needed\" ], \"object-curly-spacing\": [ 1, \"always\" ] } } // 3、config-overrides.js（react-app-rewired customize-cra）中配置使用自定义eslint规则文件 const { useEslintRc } = require('customize-cra') module.exports = function (config, env) { // 使用自定义.eslintrc useEslintRc('./.eslintrc')(config) // 返回config return config } // 4、eslint校验忽略，项目根目录中添加.eslintignore文件 /build/ /public/ /*.js 在Vuejs脚手架vue-cli@2.9.x中使用ESLint /** * 只需在构建项目时根据提示操作即可 */ // 1、构建项目时，Use ESLint to lint your code? Y // 2、Pick an ESLint preset，选择上下箭头选择Standard (https://github.com/standard/standard) 在Nuxtjs脚手架create-nuxt-app@2.4.0中使用ESLint // 1、构建项目时，Choose features to install，上下箭头+空格勾选Linter / Formatter这一项 // 2、去除不必要的依赖 yarn remove @nuxtjs/eslint-config -D // 3、修改.eslintrc.js module.exports = { root: true, env: { browser: true, node: true }, parserOptions: { parser: 'babel-eslint' }, extends: [ // '@nuxtjs' // https://github.com/vuejs/eslint-plugin-vue#priority-a-essential-error-prevention // consider switching to `plugin:vue/strongly-recommended` or `plugin:vue/recommended` for stricter rules. 'plugin:vue/essential', // https://github.com/standard/standard/blob/master/docs/RULES-en.md 'standard' ], // required to lint *.vue files plugins: [ 'vue' ], // add your custom rules here rules: { // allow async-await 'generator-star-spacing': 'off', // allow debugger during development 'no-debugger': process.env.NODE_ENV === 'production' ? 'error' : 'off' } } Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"frontend/less.html":{"url":"frontend/less.html","title":"Less","keywords":"","body":"LESS css预处理语言 相关问题 1、less@3.x.x之后的版本，less中使用javascript报错 升级less到3.x.x的版本之后报错 // https://github.com/ant-design/ant-motion/issues/44 .bezierEasingMixin(); ^ Inline JavaScript is not enabled. Is it set in your options? in D:\\vscode\\iview-admin\\node_modules\\iview\\src\\styles\\color\\bezierEasing.less (line 110, column 0) 解决方法：开启javascript即可 { loader: \"less-loader\", options: { javascriptEnabled: true } } /** * vue-cli@3.x.x中解决方法，vue.config.js文件 */ module.exports = { css: { loaderOptions: { less: { javascriptEnabled: true } } } } Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-04-03 09:00:08 "},"frontend/debounce-throttle.html":{"url":"frontend/debounce-throttle.html","title":"防抖节流","keywords":"","body":"函数防抖(debounce)、函数节流(throttle) 函数防抖(debounce) 介绍：当调用动作n毫秒后，才会执行该动作，若在这n毫秒内又调用此动作则将重新计算执行时间场景：实时搜索（keyup）、拖拽（mousemove） /** * 未防抖 * ------------------------- * ^^^^^^^^^^^^^^^^^^^^^^^^^ * 防抖 * ------------------------- * ^ */ // ES6常用实现 const debounce = (fn, delay = 1000) => { let timer = undefined return () => { timer && clearTimeout(timer) timer = setTimeout(() => { fn && fn() }, delay) } } // 使用 window.onscroll = debounce(() => { console.log(document.documentElement.scrollTop) }, 500) 函数节流(throttle) 介绍：预先设定一个执行周期，当调用动作的时刻大于等于执行周期则执行该动作，然后进入下一个新周期窗口调整（resize）、页面滚动（scroll）、抢购疯狂点击（mousedown） /** * 未节流 * ------------------------- * ^^^^^^^^^^^^^^^^^^^^^^^^^ * 节流 * ------------------------- * ^ ^ ^ ^ ^ ^ ^ */ /** * ES6常用实现（1） -- 基于时间间隔 * 触发第一次，如需触发结束后时间间隔需加else setTimeout */ // 基础版 const throttle = (fn, delay = 100) => { let last = 0 return () => { let now = Date.now() if (now - last >= delay) { fn && fn() last = now } } } // 触发结束后时间间隔 const throttle = (fn, delay = 100) => { let last = 0 let timer = undefined return () => { let now = Date.now() timer && clearTimeout(timer) if (now - last >= delay) { fn && fn() last = now } else { timer = setTimeout(() => { fn && fn() }, delay) } } } /** * ES6常用实现（2） -- 基于setTimeout * 不会触发第一次 */ const throttle = (fn, delay = 100) => { let timer = undefined return () => { if (timer) { return false } else { timer = setTimeout(() => { fn && fn() clearTimeout(timer) timer = undefined }, delay) } } } // 使用 window.onscroll = throttle(() => { console.log(document.documentElement.scrollTop) }, 1000) Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-04-28 09:29:49 "},"frontend/webpack.html":{"url":"frontend/webpack.html","title":"Webpack","keywords":"","body":"webpack webpack@^4.29.6为例，详细文档可以参考webpack中文文档 依赖 # babel，可以使用新版语法 @babel/core@^7.3.4 babel-loader@^8.0.5 html-webpack-plugin@^3.2.0 # webpack webpack@^4.29.6 # webpack4之前的版本webpack-cli在webpack里面，4开始，单独一个模块 webpack-cli@^3.2.3 # 开发，用于页面自动刷新 webpack-dev-server@^3.2.1 # webpack配置覆盖合并 webpack-merge@^4.2.1 webpack配置文件 const path = require('path') const HTMLWebpackPlugin = require('html-webpack-plugin') // 路径转换 function resolve(dir) { return path.join(__dirname, '.', dir) } // webpack配置 module.exports = { // webpack4必须指定模式 // 会将 process.env.NODE_ENV 的值设为 development。 // 启用 NamedChunksPlugin 和 NamedModulesPlugin mode: 'development', // 会将 process.env.NODE_ENV 的值设为 production。 // 启用 FlagDependencyUsagePlugin, FlagIncludedChunksPlugin, ModuleConcatenationPlugin, // NoEmitOnErrorsPlugin, OccurrenceOrderPlugin, SideEffectsFlagPlugin 和 UglifyJsPlugin // mode: 'production', // 入口文件 entry: resolve('src/index.js'), // 输出文件 output: { // 文件名 filename: '[name].js', // 文件目录 path: resolve('dist') }, // 模块 module: { // 处理规则 rules: [ { // 匹配js文件 test: /\\.js$/, // 使用babel处理，可以写新版js语法 use: 'babel-loader', // 匹配目录，只匹配根目录下src目录 include: resolve('src') } ] }, // 插件 plugins: [ // 用于处理html，将打包的js和css引用插入到index.html new HTMLWebpackPlugin({ // 标题 title: 'Webpack', // 模版 template: resolve('src/index.html'), // 给定的图标路径，可将其添加到输出html中 favicon: resolve('src/assets/favicon.ico') }) ], // webpack dev server 配置 devServer: { // 热替换 hot: true, // 指定使用一个 host。默认是 localhost // 如果希望服务器外部可访问\"0.0.0.0\"，但是在浏览器中会自动打开http://0.0.0.0:7890/ host: '127.0.0.1', // 端口 port: 7890, // 启动后自动在浏览器中打开 open: true } } package.json中配置相关命令 // --progress显示打包进度 --colors颜色高亮 --config制定配置文件 \"scripts\": { // 打包 \"build\": \"webpack --progress --colors --config webpack.prod.conf.js\", // 开发 \"dev\": \"webpack-dev-server --progress --colors --config webpack.dev.conf.js\" }, 运行 # 安装依赖 npm i # or cnpm i # or fast yarn # 开发运行 npm run dev # or yarn dev # 生产打包 npm run build # or yarn build Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"frontend/nuxtjs.html":{"url":"frontend/nuxtjs.html","title":"Nuxt.js","keywords":"","body":"Nuxt.js vue服务端渲染框架 相关问题 1、染服务器内容和客户端虚拟DOM不匹配 使用Nuxtjs时遇到的问题 [Vue warn]: The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside , or missing . Bailing hydration and performing full client-side render. /** * plugins/vue-carousel-card.js */ import Vue from 'vue' export default () => { if (!process.browser) return false // 只有在客户端渲染时引入组件并注册，问题出在此处，服务端和客户端不一致 const { CarouselCard, CarouselCardItem } = require('vue-carousel-card') Vue.component(CarouselCard.name, CarouselCard) Vue.component(CarouselCardItem.name, CarouselCardItem) } 解决方法（1） 使用包裹该组件 no-ssr CarouselCard(:interval=\"7000\" height=\"300px\" type=\"card\" arrow=\"always\") CarouselCardItem(v-for=\"i in 6\" :key=\"i\") h1(v-text=\"i\") 优点：方便快捷起效快，不需要对dependencies的vue组件，有特殊需求缺点：真的不会SSR 解决方法（2） 不区分服务端渲染还是客户端，直接引入并注册组件，以Nuxtjs为例 /** * @/plugins/vue-carousel-card.js */ import Vue from 'vue' import { CarouselCard, CarouselCardItem } from 'vue-carousel-card' export default () => { Vue.component(CarouselCard.name, CarouselCard) Vue.component(CarouselCardItem.name, CarouselCardItem) } /** * nuxt.config.js */ css: [ // 引入样式 'vue-carousel-card/styles/index.css' ], plugins: [ '@/plugins/vue-carousel-card' ] 但这样又会出现新的问题如：window is not defined、document is not defined 等问题需要进行判断，如果在服务端的情况下不去执行使用window或者document的代码 // 部分代码示例（1） import ResizeObserver from 'resize-observer-polyfill' const isServer = typeof window === 'undefined' const addResizeListener = el => { // 由于ResizeObserver中用到了document，此处直接跳过 if (isServer) return el.__ro__ = new ResizeObserver(resizeHandler) } // 部分代码示例（2） if(process && process.browser){ // 判断是客户端再执行 var FastClick = require('fastclick'); FastClick.attach(document.body); } 坑点在.vue文件中的样式最后经过webpack打包成js文件，会用到document（作用是将样式插入到文档） // 编译后的部分代码示例 function addStyle (obj /* StyleObjectPart */) { var update, remove var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]') if (styleElement) { if (isProduction) { // has SSR styles and in production mode. // simply do nothing. 解决方法，将样式分离，单独引入 优点：照样SSR缺点：对dependencies的vue组件有特殊要求 2、组件命名冲突导致内存溢出 错误信息 RangeError: Maximum call stack size exceeded at RegExp.[Symbol.replace] () at String.replace () at classify (commons.app.js:13279) at formatComponentName (commons.app.js:13317) at VueComponent.Vue._init (commons.app.js:17610) at new VueComponent (commons.app.js:17752) at createComponentInstanceForVnode (commons.app.js:15923) at init (commons.app.js:15754) at createComponent (commons.app.js:18576) at createElm (commons.app.js:18523) 相关vue组件代码，nuxt.js pages目录（相当于路由） // 引入组件 import List from '~/views/course/list' export default { name: 'List', // （1）该组件名称为List components: { List } // （2）注册于该组件同名的组件 } 因为（1）为该组件名称，引入并注册（2）使用的组件与之同名，导致（3）处使用时，会默认获取当前组件，导致服务端渲染时内存溢出 解决方法：该组件name属性和引用组件注册名称不能重名 tips: vue spa中不会导致内存溢出，如果注册组件和该组件name属性同名，优先调用该组件vue文档-name属性 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-04-08 11:05:08 "},"frontend/amap-selector.html":{"url":"frontend/amap-selector.html","title":"高德vue地图选择器","keywords":"","body":"高德vue版地图选择器 UI 框架结合 iview@^3.3.0支持地址检索提示 地图配置 // 版本 // \"vue-amap\": \"^0.5.9\" // 引入 import VueAMap from 'vue-amap' // 注册 Vue.use(VueAMap) // 配置 VueAMap.initAMapApiLoader({ key: 'your key', plugin: [ 'Geocoder', 'Autocomplete', 'MarkerClusterer' ], // 默认高德 sdk 版本为 1.4.4 v: '1.4.4' }) map-selector 地图选择组件 组件使用 import MapSelector from './main' export default { components: { MapSelector }, data () { return { addr: { lng: '', lat: '', address: '' } } }, methods: { locationChange ({ address, areaCode, lat, lng }) { // 获取地图选择信息 } } } 实现代码 const dftLng = '116.403951' const dftLat = '39.913444' const dftAddr = '点击地图选择坐标' export default { name: 'mapSelector', props: { addr: Object }, data () { return { zoom: 13, center: [this.addr.lng || dftLng, this.addr.lat || dftLat], geocoder: null, autocomplete: null, placeSearch: null, keyword: '', infoVisible: true, marker: { position: [this.addr.lng || dftLng, this.addr.lat || dftLat], address: this.addr.address || dftAddr, events: { click: e => { this.infoVisible = true }, dragend: e => { this.codeToAdd([e.lnglat.lng, e.lnglat.lat], true) } } } } }, computed: { map () { return { events: { click: e => { this.codeToAdd([e.lnglat.lng, e.lnglat.lat]) } } } }, info () { let _this = this return { events: { close () { _this.infoVisible = false } } } } }, mounted () { this.$nextTick(() => { setTimeout(() => { this.geocoder = new window.AMap.Geocoder({ radius: 1000, extensions: 'all' }) this.autocomplete = new window.AMap.Autocomplete({ input: this.$refs.searchInput }) window.AMap.event.addListener(this.autocomplete, 'select', e => { this.codeToAdd([e.poi.location.lng, e.poi.location.lat]) }) }, 100) }) }, watch: { addr: { handler (val) { setTimeout(() => { if (val && !val.areaCode && val.lng && val.lat) { this.codeToAdd([val.lng, val.lat]) } }, 100) }, deep: true } }, methods: { codeToAdd (lnglat, isOffset) { this.geocoder && this.geocoder.getAddress(lnglat, (status, result) => { if (status === 'complete' && result.info === 'OK') { const rr = result.regeocode const add = rr.formattedAddress this.marker.position = [lnglat[0], lnglat[1]] this.marker.address = add this.$emit('location-info', { address: add, areaCode: rr.addressComponent.adcode, lat: lnglat[1], lng: lnglat[0] }) } }) } } } .map-container { width: 770px !important; height: 460px; padding-top: 40px; position: relative; .ivu-input-wrapper.ivu-input-type { position: absolute; top: 0 } } .amap-box { width: 100%; height: 100% } map-selector-modal 地图选择组件弹出框 组件使用 import { MapModal } from '@components/map-selector' export default { components: { MapModal }, data () { return { mapModal: false, addr: { lng: '', lat: '', address: '' } } }, methods: { locationChange ({ address, areaCode, lat, lng }) { // 获取地图选择信息 } } } 代码实现，基于上述组件 map-selector 确定 import MapSelector from './main' export default { name: 'mapModal', components: { MapSelector }, props: { value: Boolean, addr: Object }, data () { return { mapModal: this.value, location: this.addr } }, watch: { value (val) { this.mapModal = val }, mapModal (val) { this.$emit('input', val) } }, methods: { locationChange (val) { this.location = val }, confirm () { this.$emit('location-confirm', this.location) } } } Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-02 10:59:32 "},"frontend/vue-quill-editor.html":{"url":"frontend/vue-quill-editor.html","title":"VueQuillEditor","keywords":"","body":"Vue-Quill-Editor（自定义使用） 基于Vue的Quill富文本编辑器自定义toolbar1、图片拖拽上传服务器后，在文本区域内添加图片2、图片弹窗上传选择，在文本区域内添加图片3、将样式默认使用class的替换为内联样式 div quillEditor( ref=\"editorRef\" v-model=\"content\" :options=\"editorOption\" @change=\"onContentChange\") div(:id=\"[toolbar]\" slot=\"toolbar\") span.ql-formats button.ql-bold(type=\"button\") span.ql-formats button.ql-italic(type=\"button\") span.ql-formats button.ql-underline(type=\"button\") span.ql-formats button.ql-strike(type=\"button\") span.ql-formats button.ql-blockquote(type=\"button\") span.ql-formats button.ql-code-block(type=\"button\") span.ql-formats button.ql-header(value=\"1\" type=\"button\") span.ql-formats button.ql-header(value=\"2\" type=\"button\") span.ql-formats button.ql-list(value=\"ordered\" type=\"button\") span.ql-formats button.ql-list(value=\"bullet\" type=\"button\") span.ql-formats button.ql-script(value=\"sub\" type=\"button\") span.ql-formats button.ql-script(value=\"super\" type=\"button\") //- 缩进无法使用内联样式代替class样式 //span.ql-formats button.ql-indent(value=\"-1\" type=\"button\") //span.ql-formats button.ql-indent(value=\"+1\" type=\"button\") //span.ql-formats button.ql-direction(value=\"rtl\" type=\"button\") span.ql-formats //- 默认字体大小 //select.ql-size option(value=\"small\") option(selected) option(value=\"large\") option(value=\"huge\") //- 自定义字体大小，需对应修改js中SizeStyle.whitelist，以及相关样式 select.ql-size option(value=\"12px\") 12px option(selected) 14px option(value=\"16px\") 16px option(value=\"18px\") 18px option(value=\"20px\") 20px option(value=\"22px\") 22px option(value=\"24px\") 24px option(value=\"26px\") 26px option(value=\"28px\") 28px option(value=\"30px\") 30px option(value=\"32px\") 32px span.ql-formats select.ql-header option(value=\"1\") option(value=\"2\") option(value=\"3\") option(value=\"4\") option(value=\"5\") option(value=\"6\") option(selected=\"selected\") span.ql-formats select.ql-color option(selected=\"selected\") option(value=\"#e60000\") option(value=\"#ff9900\") option(value=\"#ffff00\") option(value=\"#008a00\") option(value=\"#0066cc\") option(value=\"#9933ff\") option(value=\"#ffffff\") option(value=\"#facccc\") option(value=\"#ffebcc\") option(value=\"#ffffcc\") option(value=\"#cce8cc\") option(value=\"#cce0f5\") option(value=\"#ebd6ff\") option(value=\"#bbbbbb\") option(value=\"#f06666\") option(value=\"#ffc266\") option(value=\"#ffff66\") option(value=\"#66b966\") option(value=\"#66a3e0\") option(value=\"#c285ff\") option(value=\"#888888\") option(value=\"#a10000\") option(value=\"#b26b00\") option(value=\"#b2b200\") option(value=\"#006100\") option(value=\"#0047b2\") option(value=\"#6b24b2\") option(value=\"#444444\") option(value=\"#5c0000\") option(value=\"#663d00\") option(value=\"#666600\") option(value=\"#003700\") option(value=\"#002966\") option(value=\"#3d1466\") span.ql-formats select.ql-background option(value=\"#000000\") option(value=\"#e60000\") option(value=\"#ff9900\") option(value=\"#ffff00\") option(value=\"#008a00\") option(value=\"#0066cc\") option(value=\"#9933ff\") option(selected=\"selected\") option(value=\"#facccc\") option(value=\"#ffebcc\") option(value=\"#ffffcc\") option(value=\"#cce8cc\") option(value=\"#cce0f5\") option(value=\"#ebd6ff\") option(value=\"#bbbbbb\") option(value=\"#f06666\") option(value=\"#ffc266\") option(value=\"#ffff66\") option(value=\"#66b966\") option(value=\"#66a3e0\") option(value=\"#c285ff\") option(value=\"#888888\") option(value=\"#a10000\") option(value=\"#b26b00\") option(value=\"#b2b200\") option(value=\"#006100\") option(value=\"#0047b2\") option(value=\"#6b24b2\") option(value=\"#444444\") option(value=\"#5c0000\") option(value=\"#663d00\") option(value=\"#666600\") option(value=\"#003700\") option(value=\"#002966\") option(value=\"#3d1466\") span.ql-formats //- 默认字体 //select.ql-font option(selected=\"selected\") option(value=\"serif\") option(value=\"monospace\") //- 自定义字体，需对应修改js中FontStyle.whitelist，以及相关样式 select.ql-font option(selected=\"selected\") option(value=\"宋体\") 宋体 option(value=\"黑体\") 黑体 option(value=\"楷体\") 楷体 option(value=\"微软雅黑\") 微软雅黑 option(value=\"Arial\") Arial option(value=\"Verdana\") Verdana option(value=\"Georgia\") Georgia option(value=\"Times New Roman\") Times New Roman option(value=\"Microsoft JhengHei\") Microsoft JhengHei option(value=\"Trebuchet MS\") Trebuchet MS option(value=\"Courier New\") Courier New option(value=\"Impact\") Impact option(value=\"Comic Sans MS\") Comic Sans MS option(value=\"Consolas\") Consolas span.ql-formats select.ql-align option(selected=\"selected\") option(value=\"center\") option(value=\"right\") option(value=\"justify\") span.ql-formats button.ql-clean(type=\"button\") span.ql-formats button.ql-link(type=\"button\") span.ql-formats //- 自定义图片选择器 button(type=\"button\" @click=\"imgModal = true\") svg(viewBox=\"0 0 18 18\") rect.ql-stroke(height=\"10\" width=\"12\" x=\"3\" y=\"4\") circle.ql-fill(cx=\"6\" cy=\"7\" r=\"1\") polyline.ql-even.ql-fill(points=\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\") span.ql-formats button.ql-video(type=\"button\") //- 使用iview modal Modal( v-model=\"imgModal\" title=\"选择图片\" :mask-closable=\"false\") div div(style=\"text-align: center\") input( ref=\"imgFileRef\" type=\"file\" style=\"display: none !important\" :accept=\"accept\" @change=\"imgFileChange\") div( ref=\"imgRef\" :style=\"`display: inline-block; width: 300px; height: 180px; border: 2px dashed; position: relative; border-color: ${ isDropImgOver ? '#666' : '#CCC' }`\" @click=\"$refs.imgFileRef.click()\") Progress( v-if=\"percent > 0 && percent import 'quill/dist/quill.core.css' import 'quill/dist/quill.snow.css' import 'quill/dist/quill.bubble.css' import _Quill from 'quill' import { quillEditor } from 'vue-quill-editor' // 默认图片类型 const allowType = { '.png': 'image/png', '.jpg': 'image/jpeg'/* , '.jpeg': 'image/jpeg', '.bmp': 'image/bmp', '.gif': 'image/gif', '.svg': 'image/svg+xml', '.tif': 'image/tiff' */ } /** * 对Quill的自定义修改 */ const Quill = window.Quill || _Quill // 将样式默认使用class的替换为内联样式 let SizeStyle = Quill.import('attributors/style/size') let FontStyle = Quill.import('attributors/style/font') let AlignStyle = Quill.import('attributors/style/align') // 自定义字体大小尺寸，需对应修改html中下拉框，以及相关样式 SizeStyle.whitelist = ['12px', '16px', '18px', '20px', '22px', '24px', '26px', '28px', '30px', '32px'] // 自定义字体类型，需对应修改html中下拉框，以及相关样式 FontStyle.whitelist = ['宋体', '黑体', '楷体', '微软雅黑', 'Arial', 'Verdana', 'Georgia', 'Times New Roman', 'Microsoft JhengHei', 'Trebuchet MS', 'Courier New', 'Impact', 'Comic Sans MS', 'Consolas'] Quill.register(SizeStyle, true) Quill.register(FontStyle, true) Quill.register(AlignStyle, true) export default { name: 'Editor', components: { quillEditor }, props: { value: String, placeholder: String }, data () { return { content: this.value, toolbar: '', imgModal: false, imgUrl: '', netImgUrl: '', isDropImgOver: false } }, computed: { editor () { return this.$refs.editorRef.quill }, accept () { return Object.keys(allowType).join(',') }, editorOption () { // 解决同一个组件中出现多个富文本id冲突的问题 let id = 'toolbar-' + Math.random().toString(16).substring(2) this.toolbar = id // eslint-disable-line return { placeholder: this.placeholder, modules: { toolbar: '#' + id } } } }, watch: { value (val) { if (this.editor && val !== this.content) this.content = val }, modal (val) { if (!val) { this.imgUrl = '' this.netImgUrl = '' } } }, mounted () { this.$nextTick(() => { /** * 拖拽上传图片并插入富文本 */ // 获取quillEditor中的editor let editor = this.$refs.editorRef.$refs.editor editor.ondragenter = e => this.dropInsertHandler(e) editor.ondragover = e => this.dropInsertHandler(e) editor.ondragleave = e => this.dropInsertHandler(e) editor.ondrop = e => { const files = e.dataTransfer.files if (files && files.length > 0) { this.fileUpload(files[0], this.insertImg) } this.dropInsertHandler(e) } /** * 图片选择器拖拽上传 */ let imgRef = this.$refs.imgRef imgRef.ondragenter = e => this.imgDropHandler(e) imgRef.ondragover = e => this.imgDropHandler(e) imgRef.ondragleave = e => this.imgDropHandler(e, false) imgRef.ondrop = (e) => { const files = e.dataTransfer.files if (files && files.length > 0) { this.fileUpload(files[0]) } this.imgDropHandler(e, false) } }) }, methods: { fileUpload (file, callback) { // 判断格式 // 判断大小 // ... // 上传图片并返回图片访问url // this.imgUrl = imgUrl // callback && callback() }, insertImg () { if (this.imgUrl) { this.editor.focus() this.editor.insertEmbed(this.editor.getSelection().index, 'image', this.imgUrl) this.modal = false } else alert('没有可用的图片！') }, onContentChange () { this.$emit('input', this.content) }, imgFileChange ({ target: { files } }) { if (files && files.length > 0) { this.fileUpload(files[0]) } }, imgDropHandler (e, isOver = true) { this.dropInsertHandler() this.isDropImgOver = isOver } dropInsertHandler (e) { e.preventDefault() // 阻止离开时的浏览器默认行为 e.stopPropagation() // 阻止冒泡 } } } .ql-container font-size 14px .ql-snow .ql-picker &.ql-size .ql-picker-item &[data-value=\"12px\"]::before font-size 12px &[data-value=\"16px\"]::before font-size 16px &[data-value=\"18px\"]::before font-size 18px &[data-value=\"20px\"]::before font-size 20px &[data-value=\"22px\"]::before font-size 22px &[data-value=\"24px\"]::before font-size 24px &[data-value=\"26px\"]::before font-size 26px &[data-value=\"28px\"]::before font-size 28px &[data-value=\"30px\"]::before font-size 30px &[data-value=\"32px\"]::before font-size 32px &.ql-font .ql-picker-item &[data-value=\"宋体\"]::before font-family '宋体' &[data-value=\"黑体\"]::before font-family '黑体' &[data-value=\"楷体\"]::before font-family '楷体' &[data-value=\"微软雅黑\"]::before font-family '微软雅黑' &[data-value=\"Arial\"]::before font-family 'Arial' &[data-value=\"Verdana\"]::before font-family 'Verdana' &[data-value=\"Georgia\"]::before font-family 'Georgia' &[data-value=\"Times New Roman\"]::before font-family 'Times New Roman' &[data-value=\"Microsoft JhengHei\"]::before font-family 'Microsoft JhengHei' &[data-value=\"Trebuchet MS\"]::before font-family 'Trebuchet MS' &[data-value=\"Courier New\"]::before font-family 'Courier New' &[data-value=\"Impact\"]::before font-family 'Impact' &[data-value=\"Comic Sans MS\"]::before font-family 'Comic Sans MS' &[data-value=\"Consolas\"]::before font-family 'Consolas' Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"frontend/vue-cli-3.html":{"url":"frontend/vue-cli-3.html","title":"Vue-Cli-3","keywords":"","body":"Vue-Cli-3 根据提示完成初始化项目后可以使用vue ui命令使用GUI界面管理项目默认配置可以满足绝大多数项目，非常方便如需进一步了解可参考VUE CLI官方文档 配置 在项目根目录下添加vue.config.js const path = require('path') // 路径转换 const resolve = dir => { return path.join(__dirname, dir) } module.exports = { // 项目部署路径 // 例如：https://www.foobar.com/my-app/ // 需要将它改为'/my-app/' publicPath: process.env.NODE_ENV === 'production' ? '/my-app' : '/', // 生产环境不需要source map，则设为false productionSourceMap: false, // devServer配置 devServer: { // 自动打开浏览器 open: false, // 端口 port: 8520, // 跨域（本人使用vue-cli-3没有此配置也不会出现跨域问题，具体原因没有深入研究） proxy: { '/api': { target: 'http://127.0.0.1:8081', changeOrigin: true } } }, // webpack链式操作 chainWebpack: config => { // 别名 config.resolve.alias .set('@', resolve('src')) .set('@api', resolve('src/api')) .set('@store', resolve('src/store')) .set('@pages', resolve('src/pages')) .set('@layouts', resolve('src/layouts')) .set('@components', resolve('src/components')) .set('@styles', resolve('src/assets/styles')) .set('@images', resolve('src/assets/images')) .set('@utils', resolve('src/utils')) .set('@static', resolve('static')) } } ` Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"frontend/react-cli-2.html":{"url":"frontend/react-cli-2.html","title":"React-Cli-2","keywords":"","body":"React-Cli 2 整体项目可以参考react-cli-2 基于create-react-app@2.1.5搭建使用react-app-rewired@^2.1.0非eject方式修改webpack相关配置关于eslint，使用standard规则（个人习惯） 依赖 ## devDependencies # 配合react-app-rewired，定义一些功能 customize-cra@^0.2.12 # CRA核心react-scripts，默认使用eslint@5.12.0，固定版本 eslint@5.12.0 # eslint规则相关依赖 eslint-config-standard@^12.0.0 eslint-plugin-import@^2.16.0 eslint-plugin-node@^8.0.1 eslint-plugin-promise@^4.0.1 eslint-plugin-standard@^4.0.0 # 使用scss，需加入node-sass依赖 node-sass@^4.11.0 # 修改webpack相关配置 react-app-rewired@^2.1.0 # 开发时模块热更新 react-hot-loader@^4.7.2 # 默认在dependencies中，移动到devDependencies react-scripts@2.1.5 项目根目录添加config-overrides.js const path = require('path') const { addBabelPlugin, addDecoratorsLegacy, addWebpackAlias, useEslintRc } = require('customize-cra') const resolve = function (dir) { return path.resolve(__dirname, 'src', dir) } /** * `react-app-rewire-hot-loader` https://www.npmjs.com/package/react-app-rewire-hot-loader */ const rewireHotLoader = (config, env) => { if (env === 'production') { return config } // Find a rule which contains eslint-loader const condition = u => typeof u === 'object' && u.loader && u.loader.includes('eslint-loader') const rule = config.module.rules.find(rule => rule.use && rule.use.some(condition)) if (rule) { const use = rule.use.find(condition) if (use) { // Inject the option for eslint-loader use.options.emitWarning = true } } // If in development, add 'react-hot-loader/babel' to babel plugins. return addBabelPlugin('react-hot-loader/babel')(config) } /** * 修改默认配置 */ module.exports = function (config, env) { // 开发模式使用react-hot-loader rewireHotLoader(config, env) // 使用自定义.eslintrc useEslintRc('./.eslintrc')(config) // 装饰器，主要用于mobx addDecoratorsLegacy()(config) // 别名 addWebpackAlias({ '@src': resolve(''), '@api': resolve('api'), '@store': resolve('store'), '@routes': resolve('routes'), '@pages': resolve('pages'), '@layouts': resolve('layouts'), '@components': resolve('components'), '@styles': resolve('assets/styles'), '@images': resolve('assets/images') })(config) // 返回config return config } 修改package.json \"scripts\": { - \"start\": \"react-scripts start\", + \"start\": \"react-app-rewired start\", - \"build\": \"react-scripts build\", + \"build\": \"react-app-rewired build\", - \"test\": \"react-scripts test\", + \"test\": \"react-app-rewired test\", \"eject\": \"react-scripts eject\" } 配置环境变量 开发，在项目根目录添加.env.development文件 ## cra webpack配置中默认的部分变量 # 取消自动打开浏览器 BROWSER=none 生产，在项目根目录添加.env.production文件 ## cra webpack配置中默认的部分变量 # public path，资源前缀 # 如 PUBLIC_URL=/react-app # sourcemap GENERATE_SOURCEMAP=false 关于跨域 在package.json中添加proxy即可 \"proxy\": \"http://192.168.0.11\", 附.eslintrc相关配置 { \"extends\": [ \"standard\", \"plugin:react/recommended\" ], \"env\": { \"browser\": true, \"commonjs\": true, \"node\": true, \"es6\": true }, \"parser\": \"babel-eslint\", \"parserOptions\": { \"ecmaVersion\": 7, \"sourceType\": \"module\", \"ecmaFeatures\": { \"jsx\": true, \"legacyDecorators\": true } }, \"settings\": { \"react\": { \"version\": \"detect\" } }, \"plugins\": [ \"react\" ], \"rules\": { \"arrow-parens\": [ \"error\", \"as-needed\" ], \"object-curly-spacing\": [ 1, \"always\" ] } } 相关问题 # eslint warning Warning: React version not specified in eslint-plugin-react settings. # 在.eslintrc中添加以下内容，指定react版本即可 \"settings\": { \"react\": { \"version\": \"detect\" } }, # 控制台警告 React-Hot-Loader: react-&#x1F525;-dom patch is not detected. React 16.6+ features may not work. # 不影响使用，估计在react-hot-loader 4.7.2之后的版本会去掉该提示 # https://github.com/gaearon/react-hot-loader/blob/f15b108cfac2aa6b8f98496b1e3103a4ad1c9e9c/src/reactHotLoader.js#L122 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"frontend/chrome-download-img.html":{"url":"frontend/chrome-download-img.html","title":"Chrome图片下载","keywords":"","body":"Chrome浏览器下载图片 /** * src 图片链接 * filename 下载图片命名 * ext 图片格式，png jpg */ function downloadImg (src, filename, ext) { const img = new Image() const canvas = document.createElement('canvas') const ctx = canvas.getContext('2d') const link = document.createElement('a') img.setAttribute('crossOrigin', 'anonymous') // 设置允许跨域访问 img.src = src img.onload = () => { canvas.width = img.width canvas.height = img.height ctx.drawImage(img, 0, 0, img.width, img.height) link.setAttribute('href', canvas.toDataURL('image/' + ext)) link.setAttribute('target', '_blank') link.setAttribute('download', filename + '.' + ext) link.click() } } Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-08 10:06:13 "},"index/applet.html":{"url":"index/applet.html","title":"小程序","keywords":"","body":"小程序 微信小程序车牌键盘 微信小程序授权 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-09 16:19:26 "},"applet/weapp-vehicle-panel.html":{"url":"applet/weapp-vehicle-panel.html","title":"微信小程序车牌键盘","keywords":"","body":"微信小程序车牌键盘 微信小程序车牌键盘。 效果 目录结构 ├─ del.png # 删除按钮 ├─ index.js # js ├─ index.json # json配置 ├─ index.wxml # 视图 └─ index.wxss # 样式 del.png index.js Component({ externalClasses: ['v-panel'], properties: { isShow: { type: Boolean, value: false }, buttonBorder: { type: String, value: '1px solid #ccc' }, backgroundColor: { type: String, value: '#F5F5F5' }, value: { type: String, value: '', observer: function (newVal) { this.setData({ length: newVal.length }) } } }, data: { keyVehicle1: '京津沪渝冀豫云辽', keyVehicle2: '黑湘皖鲁新苏浙赣', keyVehicle3: '鄂桂甘晋蒙陕吉闽', keyVehicle4: '贵粤青藏川宁琼使领', keyNumber: '1234567890', keyEnInput1: 'QWERTYUIOPA', keyEnInput2: 'SDFGHJKLZXC', keyEnInput3: 'VBNM挂学警港澳', length: 0 }, methods: { vehicleTap: function (event) { let val = event.target.dataset.value switch (val) { case 'delete': this.triggerEvent('delete') break case 'ok': this.triggerEvent('ok') break default: this.triggerEvent('inputchange', val) } } } }) index.json { \"component\": true } index.wxml 删除 确定 index.wxss .vehicle-panel { width: 100%; display: flex; flex-direction: column; justify-content: center; border-top: 1px solid #EEE; font-size: 32rpx; padding-top: 10rpx } .vehicle-panel-row { display: flex; justify-content: space-between; align-items: center } .vehicle-panel-row-last { display: flex; justify-content: space-between; align-items: center } .vehicle-panel-row-button { background-color: #fff; margin: 5rpx; padding: 5rpx; width: 80rpx; height: 80rpx; text-align: center; line-height: 80rpx; border-radius: 10rpx } .vehicle-panel-row-button-number { background-color: #DDD } .vehicle-panel-row-button-last { width: 90rpx; height: 90rpx; line-height: 90rpx } .vehicle-hover { background-color: #ccc } .vehicle-panel-row-button-img { display: flex; justify-content: center; align-items: center } .vehicle-en-button-delete { width: 55rpx; height: 85rpx } .vehicle-panel-ok { background-color: #1989fa; color: #fff; width: 150rpx; height: 80rpx } Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-01 13:48:36 "},"applet/weapp-grant.html":{"url":"applet/weapp-grant.html","title":"微信小程序授权","keywords":"","body":"小程序授权相关 openid 用户唯一标识，小程序、公众号等，每个应用唯一，不同应用中不相同unionid 同平台下相等，小程序、公众号、App等，需绑定到同一开放平台下session_key 会话密钥，解析小程序中 encryptedData, iv 注意：auth.code2Session 凭证校验时，一定能获取的值 openid, session_keyunionid 需要满足特定条件才能直接获取否则需要通过 session_key 解析 encryptedData, iv 获取 问题描述 特殊性情况下，如：新账号首次注册、已注册账号首次登录等，使用 session_key 解析 encryptedData, iv 失败，无法获取 unionid 原因：小程序端需要先 wx.login 获取 code，然后通过 wx.getUserInfo 获取 encryptedData, iv如果使用小程序 Button 的 getUserInfo 提示用户授权登录 则无法先调用 wx.login 获取 code 解决办法：在授权登录页面 onLoad 生命周期中调用 wx.login 获取 code由于 code 默认有效时间为5分钟，应该设置定时任务，每 4 分钟调用 wx.login 更新 code /** 部分代码示例 **/ // wxml 获取用户信息 // js Page({ data: { code: '', timer: undefined }, onLoad () { this.getCodeFunc() var timer = setInterval(this.getCodeFunc, 4 * 60 * 1000) this.setData({ timer }) }, onUnload () { this.timer && clearInterval(this.timer) }, getCodeFunc () { var _this = this wx.login({ success (res) { if (res.code) { _this.setData({ code: res.code }) } } }) }, getUserInfo (e) { var encryptedData = e.detail.encryptedData var iv = e.detail.iv this.doLoginRequest(encryptedData, iv, this.code) }, doLoginRequest (encryptedData, iv, code) { // TODO login request } }) Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-09 16:55:38 "},"index/flutter.html":{"url":"index/flutter.html","title":"Flutter","keywords":"","body":"Flutter 环境 Android构建 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-12-19 10:21:05 "},"flutter/env.html":{"url":"flutter/env.html","title":"环境","keywords":"","body":"Flutter 环境安装配置 MaxOS系统 1、安装 Flutter sdk （包含 dart sdk） # https://flutter.dev/docs/get-started/install/macos # 下载并解压，将 flutter 文件夹复制到 /Users//Programs/ 目录下 # 配置 .bash_profile FLUTTER_HOME=/Users//Programs/flutter PATH=$PATH:$FLUTTER_HOME/bin export PATH 2、安装 XCode，直接从 AppStore 下载安装 # 配置Xcode命令行工具以使用新安装的Xcode版本 sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer # 确保之前打开过一次Xcode并签署通过了Xcode许可协议，可以从命令行运行sudo xcodebuild -license来确认 sudo xcodebuild -license 3、安装 brew # 切换到下载目录 cd /Users//Downloads # 生成 brew 安装文件 curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install >> brew_install # 编辑 brew_install # 将 line.9 (新版本好像没有 CORE_TAP_REPO，则略过) BREW_REPO = \"https://github.com/Homebrew/brew\".freeze CORE_TAP_REPO = \"https://github.com/Homebrew/homebrew-core\".freeze # 替换为 BREW_REPO = \"https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git\".freeze CORE_TAP_REPO = \"https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git\".freeze # 执行脚本安装 /usr/bin/ruby brew_install # 安装完后删除 brew_install 文件 rm brew_install 4、安装 cocoapods # brew install 安装前会 Updating Homebrew，速度很慢 # 替换镜像源 cd \"$(brew --repo)\" git remote set-url origin https://mirrors.ustc.edu.cn/brew.git cd \"$(brew --repo)/Library/Taps/homebrew/homebrew-core\" git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git # 安装 brew install cocoapods # 执行命令，此步骤速度很慢 pod setup # 使用清华大学开源镜像，该步骤解决 pod setup 速度慢的问题 cd ~/.cocoapods/repos pod repo remove master git clone https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git master # 工程的podFile第一行加上 ? 未使用，作用未知，运行 flutter doctor 命令成功 source 'https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git' 5、安装 IOS tools brew update brew install --HEAD usbmuxd brew link usbmuxd brew install --HEAD libimobiledevice brew install ideviceinstaller brew install ios-deploy 6、安装Android Studio，创建安装虚拟设备 AVD # 直接下载安装即可 Android Studio # 注意mac上可能会提示 Android Studio 使用系统日历隐私，不授权可能无法完成初始化配置 # 完成初始化配置，其中 android/sdk 目录需要配置到 .bash_profile 中 ANDROID_HOME=/Users//Programs/Android/sdk export ANDROID_HOME # 安装完成打开，在创建项目的页面，右下角，Configure -> Plugins，在 Marketplace 里面搜索 并安装 flutter 插件（自动安装 Dart 插件），重启 # Configure -> AVD Manager，创建新安卓虚拟设备 # 一般选择 Phone -> Nexus 5 -> Android 8.0（需下载） -> Finish 点击绿色三角启动虚拟设备 # 提示 Android license status unknown # 运行命令添加 Android license 即可 flutter doctor --android-licenses 7、如果使用 VS Code，需要安装 flutter 插件，自动安装 Dart 插件 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-19 14:32:57 "},"flutter/android-package.html":{"url":"flutter/android-package.html","title":"Android构建","keywords":"","body":"Android构建 1、检查 App Manifest 查看默认应用程序清单文件(位于/android/app/src/main/中的AndroidManifest.xml文件)，并验证这些值是否正确，特别是： application: 编辑 application 标签，这是应用的名称。 android 8 及以后 http/https问题 android:label=\"netease_cloud_music\" -> 安装后app名字 android:icon=\"@mipmap/ic_launcher\" -> 安装后app图标，修改图标文件(位于\\/android/app/src/main/res中的各尺寸图标文件) --> uses-permission: 权限配置。如果您的应用程序代码不需要Internet访问，请删除android.permission.INTERNET权限。标准模板包含此标记是为了启用Flutter工具和正在运行的应用程序之间的通信。 2、查看构建配置 查看默认[Gradle 构建文件][gradlebuild]”build.gradle”，它位于/android/app/，验证这些值是否正确，尤其是： defaultConfig: applicationId: 指定始终唯一的 (Application Id)appid。 versionCode & versionName: 指定应用程序版本号和版本号字符串。 minSdkVersion & targetSdkVersion: 指定最低的API级别以及应用程序设计运行的API级别。 4、添加启动图标、启动页 图标 当一个新的Flutter应用程序被创建时，它有一个默认的启动器图标。要自定义此图标： 1、图标尺寸： drawable-mdpi-icon: 48 x 48 drawable-hdpi-icon: 72 x 72 drawable-xhdpi-icon: 96 x 96 drawable-xxhdpi-icon: 144 x 144 drawable-xxxhdpi-icon: 192 x 1922、在/android/app/src/main/res/目录中，将图标文件放入使用配置限定符命名的文件夹中。默认mipmap-文件夹演示正确的命名约定。3、在AndroidManifest.xml中，将application标记的android:icon属性更新为引用上一步中的图标（例如 ）。4、要验证图标是否已被替换，请运行您的应用程序并检查应用图标。 启动页 启动页配置(位于/android/app/src/main/res/drawable/中的launch_background.xml文件) 图片尺寸，竖屏：高 x 宽，横屏：宽 x 高drawable-port-mdpi-screen: 480 x 320drawable-port-hdpi-screen: 800 x 480drawable-port-xhdpi-screen: 1280 x 720drawable-port-xxhdpi-screen: 1600 x 960drawable-port-xxxhdpi-screen: 1920 x 1280 --> 5、app签名 （1）创建 keystore 如果您有现有keystore，请跳至下一步。如果没有，请通过在运行以下命令来创建一个： # -keystore 生成目录记名字 # -keyalg 加密和数字签名的算法 # -keysize 密钥长度 # -validity 有效天数 # -alias 别名，名称最好与前面-alias的参数保持一致 keytool -genkey -v -keystore ~/appkeystore.jks -keyalg RSA -keysize 2048 -validity 20000 -alias appkeystore # next 提示输入 “ 密钥库 ” 密码、确认密码 # next 提示输入名字姓氏、组织单位名称、组织名称、城市区域名称、省、国家 # next 提示是否正确，输入 y # next 提示输入 “ 密钥 ” 密码、确认密码，如果和上面 “ 密钥库 ” 密码相同，直接摁回车键 注意：保持文件私密; 不要将它加入到公共源代码控制中。注意: keytool可能不在你的系统路径中。它是Java JDK的一部分，它是作为Android Studio的一部分安装的。 （2）引用应用程序中的keystore 创建一个名为/android/key.properties的文件，其中包含对密钥库的引用： storePassword= keyPassword= keyAlias=appkeystore storeFile=/appkeystore.jks> 注意: 保持文件私密; 不要将它加入公共源代码控制中 （3）在gradle中配置签名 通过编辑/android/app/build.gradle文件为您的应用配置签名 1、替换： android { 为： def keystorePropertiesFile = rootProject.file(\"key.properties\") def keystoreProperties = new Properties() keystoreProperties.load(new FileInputStream(keystorePropertiesFile)) android { 2、替换： buildTypes { release { // TODO: Add your own signing config for the release build. // Signing with the debug keys for now, so `flutter run --release` works. signingConfig signingConfigs.debug } } 为： signingConfigs { release { keyAlias keystoreProperties['keyAlias'] keyPassword keystoreProperties['keyPassword'] storeFile file(keystoreProperties['storeFile']) storePassword keystoreProperties['storePassword'] } } buildTypes { release { signingConfig signingConfigs.release } } 应用的release版本将自动进行签名。 5、开启混淆 默认情况下 flutter 不会开启 Android 的混淆。 如果使用了第三方 Java 或 Android 库，也许你想减小 apk 文件的大小或者防止代码被逆向破解。 （1）配置混淆 创建 /android/app/proguard-rules.pro 文件，并添加以下规则： #Flutter Wrapper -keep class io.flutter.app.** { *; } -keep class io.flutter.plugin.** { *; } -keep class io.flutter.util.** { *; } -keep class io.flutter.view.** { *; } -keep class io.flutter.** { *; } -keep class io.flutter.plugins.** { *; } 上述配置只混淆了 Flutter 引擎库，任何其他库（比如 Firebase）需要添加与之对应的规则。 （2）开启混淆/压缩 打开 /android/app/build.gradle 文件，定位到 buildTypes 块。在 release 配置中将 minifyEnabled 和 useProguard 设为 true，再将混淆文件指向上一步创建的文件。 android { ... buildTypes { release { signingConfig signingConfigs.release // 压缩，默认启用 minifyEnabled true // Gradle 3.4.0之后默认启用R8，3.2.0之前版本默认ProGuard // useProguard true // 启用资源压缩 shrinkResources true // 压缩规则 proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro' } } } 注意：开启压缩 minifyEnabled true 可能会导致无法打包，暂时不启用压缩。 貌似自v1.12.13版本已解决 7、构建一个发布版（release）APK 使用命令行: 1、cd ( 为您的工程目录)；2、运行flutter build apk (flutter build 默认会包含 --release选项)。 打包好的发布APK位于/build/app/outputs/apk/app-release.apk。 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-03-04 14:25:07 "},"index/java.html":{"url":"index/java.html","title":"Java","keywords":"","body":"Java 部分知识点总结。 Stream FastJson Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-01 17:53:48 "},"java/stream.html":{"url":"java/stream.html","title":"Java 8 Stream","keywords":"","body":"Java 8 Stream 部分 Stream 常用操作整理 测试对象 public class Obj { private String code; private Integer value; public Obj() { } public Obj(String code, Integer value) { this.code = code; this.value = value; } public String getCode() { return code; } public void setCode(String code) { this.code = code; } public Integer getValue() { return value; } public void setValue(Integer value) { this.value = value; } @Override public String toString() { return \"Obj{code='\" + code + '\\'' + \", value=\" + value + \"}\"; } } 测试list List strList = new ArrayList(); strList.add(\"B\"); strList.add(\"C\"); strList.add(\"E\"); strList.add(\"A\"); List objList = new ArrayList(); objList.add(new Obj(\"B\", 2)); objList.add(new Obj(\"C\", 3)); objList.add(new Obj(\"E\", 4)); objList.add(new Obj(\"A\", 1)); 类型转换 // List -> Map Map map = objList.stream().collect(Collectors.toMap(Obj::getCode, Obj::getValue)); // {A=A1, B=B1, C=C1, E=E1} // List -> Map Map objMap = objList.stream().collect(Collectors.toMap(Obj::getCode, obj -> obj)); // {A=Obj{code='A', value=1}, B=Obj{code='B', value=2}, C=Obj{code='C', value=3}, E=Obj{code='E', value=4}} // List -> List List list = objList.stream().map(obj -> obj.getCode()).collect(Collectors.toList()); // B C E A // List -> Set Set set = objList.stream().collect(Collectors.toSet()); // [Obj{code='B', value=2}, Obj{code='E', value=4}, Obj{code='C', value=3}, Obj{code='A', value=1}] // List -> String[] String[] array = objList.stream().map(obj -> obj.getCode()).toArray(String[]::new); // B C E A // List -> int[] int[] array = objList.stream().mapToInt(obj -> obj.getValue()).toArray(); // 2 3 4 1 // List -> String String join = strList.stream().collect(Collectors.joining()); // BCEA String joining = strList.stream().collect(Collectors.joining(\",\")); // B,C,E,A 排序 自然序排序，常用于基本数据类型 List list = strList.stream().sorted().collect(Collectors.toList()); // A B C E // 逆序 List list = strList.stream().sorted(Comparator.reverseOrder()).collect(Collectors.toList()); // E C B A // 不使用stream strList.sort(Comparator.comparing(String::toString)); // 逆序 strList.sort(Comparator.comparing(String::toString).reversed()); 使用Comparator排序，常用于对象类型 List list = objList.stream().sorted(Comparator.comparing(Obj::getCode)).collect(Collectors.toList()); // Obj{code='A', value=1} Obj{code='B', value=2} Obj{code='C', value=3} Obj{code='E', value=4} // 逆序 List list = objList.stream().sorted(Comparator.comparing(Obj::getCode).reversed()).collect(Collectors.toList()); // Obj{code='E', value=4} Obj{code='C', value=3} Obj{code='B', value=2} Obj{code='A', value=1} // 不使用stream objList.sort(Comparator.comparing(Obj::getCode)); // 逆序 objList.sort(Comparator.comparing(Obj::getCode).reversed()); 存在（anyMatch）、全部匹配（allMatch）、无匹配（noneMatch）、过滤（filter）、获取过滤后第一个（findFirst）、获取过滤后任意一个（findAny） // 存在（anyMatch） boolean anyMatch = objList.stream().anyMatch(obj -> \"E\".equals(obj.getCode())); // true // 全部匹配（allMatch） boolean allMatch = objList.stream().allMatch(obj -> obj.getValue() > 0); // true // 无匹配（noneMatch） boolean noneMatch = objList.stream().noneMatch(obj -> obj.getValue() > 4); // true // 过滤（filter） List collect = objList.stream().filter(obj -> obj.getValue() > 2).collect(Collectors.toList()); // [Obj{code='C', value=3}, Obj{code='E', value=4}] // 获取过滤后第一个（findFirst） Obj obj = objList.stream().filter(obj -> obj.getValue() > 2).findFirst().get(); // Obj{code='C', value=3} // 获取过滤后任意一个（findAny），对数据没有顺序上的要求，findAny的效率比findFirst要快 Obj obj = objList.stream().filter(obj -> obj.getValue() > 2).findAny().get(); // Obj{code='C', value=3} 聚合求值（reduce、Collectors.reducing） int totalVal = objList.stream().map(obj -> obj.getValue()).reduce(0, (sum, val) -> sum + val); // 10 int totalVal = objList.stream().collect(Collectors.reducing(0, Obj::getValue, (sum, val) -> sum + val)); // 10 统计（IntSummaryStatistics、LongSummaryStatistics、DoubleSummaryStatistics） IntSummaryStatistics summaryStatistics = objList.stream().collect(Collectors.summarizingInt(Obj::getValue)); double average = summaryStatistics.getAverage(); // 平均值 2.5 long count = summaryStatistics.getCount(); // 个数 4 int min = summaryStatistics.getMin(); // 最小值 1 int max = summaryStatistics.getMax(); // 最大值 4 long sum = summaryStatistics.getSum(); // 求和 10 求和 // int int totalVal = objList.stream().mapToInt(obj -> obj.getValue()).sum(); // 10 // double double totalVal = objList.stream().mapToDouble(obj -> obj.getValue().doubleValue()).sum(); // 10.0 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-01 15:41:06 "},"java/fastjson.html":{"url":"java/fastjson.html","title":"FastJson","keywords":"","body":"FastJson springboot中配置请查看 maven依赖 com.alibaba fastjson 1.2.51 SerializerFeature 含义 SerializerFeature 含义 备注 QuoteFieldNames 输出key时是否使用双引号，默认为true UseSingleQuotes 使用单引号而不是双引号，默认为false WriteMapNullValue 是否输出值为null的字段，默认为false 常用 WriteEnumUsingToString Enum输出toString()，默认为false WriteEnumUsingName Enum输出name()，默认为false UseISO8601DateFormat Date使用ISO8601格式输出，默认为false WriteNullListAsEmpty List字段如果为null，输出为[]，而非null 常用 WriteNullStringAsEmpty 字符类型字段如果为null，输出为 \"\"，而非null 常用 WriteNullNumberAsZero 数值字段如果为null，输出为0，而非null 常用 WriteNullBooleanAsFalse Boolean字段如果为null，输出为false，而非null SkipTransientField 如果是true，类中的Get方法对应的Field是transient，序列化时将会被忽略。默认为true SortField 按字段名称排序后输出。默认为false WriteTabAsSpecial 把\\t做转义输出，默认为false PrettyFormat 结果是否格式化，默认为false WriteClassName 序列化时写入类型信息，默认为false。反序列化是需用到 DisableCircularReferenceDetect 消除对同一对象循环引用的问题，默认为false WriteSlashAsSpecial 对斜杠 \"/\" 进行转义 BrowserCompatible 将中文都会序列化为\\uXXXX格式，字节数会多一些，但是能兼容IE 6，默认为false WriteDateUseDateFormat 全局修改日期格式，默认为false。JSON.DEFFAULT_DATE_FORMAT = \"yyyy-MM-dd\";JSON.toJSONString(obj, SerializerFeature.WriteDateUseDateFormat); NotWriteRootClassName DisableCheckSpecialChar 一个对象的字符串属性中如果有特殊字符如双引号，将会在转成json时带有反斜杠转移符。如果不需要转义，可以使用这个属性。默认为false BeanToArray 将对象转为array输出 WriteNonStringKeyAsString NotWriteDefaultValue BrowserSecure IgnoreNonFieldGetter WriteNonStringValueAsString IgnoreErrorGetter WriteBigDecimalAsPlain MapSortField json -> 指定泛型类型 反序列化 // new TypeReference() { } HashMap> map = JSON.parseObject(json, new TypeReference>>() { }); Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-01 17:46:57 "},"index/springboot.html":{"url":"index/springboot.html","title":"SpringBoot","keywords":"","body":"SpringBoot SpringBoot开发中遇到过的问题总结。 Put请求配置 FastJson配置 跨域配置 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-22 11:25:59 "},"springboot/put-config.html":{"url":"springboot/put-config.html","title":"Put请求配置","keywords":"","body":"Put请求无法获取参数对象 SpringBoot中使用RESTful API设计规范，如果Put请求无法将参数转为对象，以下两种配置可选。 @Configuration public class WebMvcConfig extends WebMvcConfigurationSupport｛ /** * 解决put请求无法将参数转为对象 * @return */ @Bean public HttpPutFormContentFilter httpPutFormContentFilter() { return new HttpPutFormContentFilter(); } } // 使用：@Component，原理一样，开启：HttpPutFormContentFilter @Component public class PutFilter extends HttpPutFormContentFilter { } Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"springboot/fastjson-config.html":{"url":"springboot/fastjson-config.html","title":"FastJson配置","keywords":"","body":"FastJson处理响应数据 SpringBoot中使用FastJson将响应的数据转成json相关配置 @Configuration public class WebMvcConfig extends WebMvcConfigurationSupport { /** * FastJson对响应数据处理的相关配置 */ @Override public void configureMessageConverters(List> converters) { FastJsonHttpMessageConverter fastConverter = new FastJsonHttpMessageConverter(); FastJsonConfig fastJsonConfig = new FastJsonConfig(); // 序列化 fastJsonConfig.setSerializerFeatures( SerializerFeature.WriteMapNullValue, SerializerFeature.WriteNullStringAsEmpty, SerializerFeature.WriteNullNumberAsZero, SerializerFeature.WriteNullListAsEmpty ); // 时间戳格式 fastJsonConfig.setDateFormat(\"yyyy-MM-dd HH:mm:ss\"); // 处理中文乱码问题 List fastMediaTypes = new ArrayList(); fastMediaTypes.add(MediaType.APPLICATION_JSON_UTF8); fastConverter.setSupportedMediaTypes(fastMediaTypes); // 设置 fastConverter.setFastJsonConfig(fastJsonConfig); converters.add(fastConverter); } } Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-01 16:57:11 "},"springboot/cors-config.html":{"url":"springboot/cors-config.html","title":"跨域配置","keywords":"","body":"跨域配置 SpringBoot添加跨域配置有以下两种配置方法 @Configuration public class WebMvcConfig extends WebMvcConfigurationSupport { /** * 跨域配置 */ @Override protected void addCorsMappings(CorsRegistry registry) { registry.addMapping(\"/**\") // 允许跨域的源 .allowedOrigins(\"*\") // 是否允许浏览器发送Cookie .allowCredentials(true) // 客户端所要访问的资源允许使用的方法或方法列表 .allowedMethods(\"OPTIONS\", \"HEAD\", \"POST\", \"GET\", \"PUT\", \"DELETE\") // 正式请求的首部信息 // x-requested-with：ajax请求 .allowedHeaders(\"X-Requested-With\") // preflight request （预检请求）的返回结果 //（即 Access-Control-Allow-Methods 和Access-Control-Allow-Headers 提供的信息） // 可以被缓存多久 .maxAge(3600); super.addCorsMappings(registry); } } / ** * 跨域访问过滤器 */ @Component public class CorsFilter implements Filter { @Override public void destroy() { } @Override public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws IOException, ServletException { HttpServletResponse response = (HttpServletResponse) res; HttpServletRequest request = (HttpServletRequest) req; // 也可以使用\"*\"，最好是从request中的header中获取Origin，来做配置 response.setHeader(\"Access-Control-Allow-Origin\", request.getHeader(\"Origin\")); // 是否允许浏览器发送Cookie response.setHeader(\"Access-Control-Allow-Credentials\", \"true\"); // 客户端所要访问的资源允许使用的方法或方法列表 response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, PUT, DELETE\"); // 正式请求的首部信息 // x-requested-with：ajax请求 response.setHeader(\"Access-Control-Allow-Headers\", \"X-Requested-With\"); // preflight request （预检请求）的返回结果 //（即 Access-Control-Allow-Methods 和Access-Control-Allow-Headers 提供的信息） // 可以被缓存多久 response.setHeader(\"Access-Control-Max-Age\", \"3600\"); chain.doFilter(req, res); } @Override public void init(FilterConfig config) throws ServletException { } } Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"index/git-svn.html":{"url":"index/git-svn.html","title":"Git/Svn","keywords":"","body":"Git Git使用过部分命令总结，详细可查看Git文档。 Git GitLab Svn Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-22 11:25:45 "},"git-svn/git.html":{"url":"git-svn/git.html","title":"Git","keywords":"","body":"Git常用命令 全局属性配置 # 全局配置用户名 git config --global user.name \"nameVal\" # 全局配置邮箱 git config --global user.email \"eamil@qq.com\" 提交gh-pages分支以供展示 # _book为打包后的文件目录 git subtree push --prefix _book origin gh-pages 切换分支 # 显示所有参数使用方法 git branch -h # 查看所有分支，参数v显示版本号注释等附加信息，a显示所有 git branch -va # * 开头的为当前本地分支，origin为远程分支 # gh-pages 5c3cbe8 Create CNAME # * master 20575cc shouye # remotes/origin/HEAD -> origin/master # remotes/origin/gh-pages 5c3cbe8 Create CNAME # remotes/origin/master 20575cc shouye # remotes/origin/test 20575cc shouye # 切换分支 git checkout gh-pages # 创建并切换分支 git checkout -b dev git log 状态下如何退出 # 方法 1 # 英文状态摁 q q # 方法 2 # git bash 可能无效 ctrl + c git撤销对远程仓库的push & commit提交 # 查看日志 git log # commit **********c7be3d80f8c33889a211********** (HEAD -> master, origin/master, origin/HEAD) # Author: user # Date: Mon Apr 8 11:06:51 2019 +0800 # # # # commit **********dfe5677d44a5e2f01768********** # Author: user # Date: Wed Apr 3 09:37:32 2019 +0800 # # # 执行撤销到指定版本 # 如，撤销到 git reset -soft **********dfe5677d44a5e2f01768********** # # git reset 命令分为两种： git reset –soft 与 git reset –hard ，区别是： # 前者表示只是改变了HEAD的指向，本地代码不会变化，使用git status依然可以看到，同时也可以git commit提交。 # 后者直接回改变本地源码，不仅仅指向变化了，代码也回到了那个版本时的代码。 git reset –soft # 强制提交当前版本号，git push origin 分支名 –force git push origin master –force 统计贡献者代码行数 # --author=\"\" 为贡献者用户名，$(git config --get user.name)表示当前用户 git log --author=\"$(git config --get user.name)\" --pretty=tformat: --numstat | awk '{ add += $1; subs += $2; loc += $1 - $2 } END { printf \"added lines: %s, removed lines: %s, total lines: %s\\n\", add, subs, loc }' - Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-27 14:07:02 "},"git-svn/gitlab.html":{"url":"git-svn/gitlab.html","title":"GitLab","keywords":"","body":"GitLab 以Centos 7.4，GitLab 11.8.1 (ce社区版) 为例 安装 # 依赖，系统自带，可以忽略该步 #sudo yum install -y curl policycoreutils-python openssh-server # 在防火墙打开http和ssh访问 #sudo systemctl enable sshd #sudo systemctl start sshd #sudo firewall-cmd --permanent --add-service=http #sudo systemctl reload firewalld # 添加GitLab包存储库 # gitlab-ee企业版 # gitlab-ce社区版 curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash # 安装GitLab包 yum install -y gitlab-ce 修改配置文件 # 修改配置文件 vim /etc/gitlab/gitlab.rb # 云服务器记得开放端口 # line.13，用户访问路径IP或域名 external_url 'http://gitlab.example.com:9876' # line.1021，默认nginx是80端口，防止冲突，和上面端口相同 nginx['listen_port'] = 9876 # line.677，默认端口8080，防止冲突 unicorn['port'] = 9875 # 发送邮件 # line.53 - 54 # 发件箱邮箱 gitlab_rails['gitlab_email_from'] = 'youemail@163.com' # 发件箱发件人姓名 gitlab_rails['gitlab_email_display_name'] = 'GitLab' # line.508 - 516，以163邮箱为例 gitlab_rails['smtp_enable'] = true gitlab_rails['smtp_address'] = \"smtp.163.com\" gitlab_rails['smtp_port'] = 465 # 云服务器记得开放465端口 gitlab_rails['smtp_user_name'] = \"youemail@163.com\" # 发件箱 gitlab_rails['smtp_password'] = \"stmp password\" # stmp密码 gitlab_rails['smtp_domain'] = \"163.com\" gitlab_rails['smtp_authentication'] = \"login\" gitlab_rails['smtp_enable_starttls_auto'] = true gitlab_rails['smtp_tls'] = true # 修改完配置后 # 重新装配 gitlab-ctl reconfigure # 重启服务 gitlab-ctl restart # 测试发送邮件 # 进入gitlab控制台 gitlab-rails console # 发送测试邮件 Notify.test_email('收件箱', '标题', '内容').deliver_now 运行 # 重新装配 gitlab-ctl reconfigure # 启动服务 gitlab-ctl start # 重启服务 gitlab-ctl restart # 停止服务 gitlab-ctl stop Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-20 09:09:41 "},"git-svn/svn.html":{"url":"git-svn/svn.html","title":"Svn","keywords":"","body":"Svn 以Centos 7.4，Subversion 1.7.14 为例 安装 # 安装 yum install -y subversion # 查看版本 svnserve --version 配置 # subversion默认以/var/svn作为数据根目录 # 创建svn版本库目录 mkdir -p /opt/svn # 创建版本库 svnadmin create /opt/svn # 创建用户 vim /opt/svn/conf/passwd # 增加用户，格式：用户名 = 密码 [users] admin = admin guest = guest # 配置权限 vim /opt/svn/conf/authz # 格式：用户名 = 权限，r读取权限，w写入权限 [/] admin = rw guest = r # 最后设定snvserv.conf，使上面配置生效 vim /opt/svn/conf/svnserve.conf # 修改以下 anon-access = none # 使非授权用户无法访问 auth-access = write # 使授权用户有写权限 password-db = password authz-db = authz # 访问控制文件 realm = /opt/svn # 认证命名空间，subversion会在认证提示里显示，并且作为凭证缓存的关键字。 启动svn # 运行 svnserve -d -r /opt/svn # --listen-port指定端口 # vnserve -d -r /opt/svn --listen-port 3391 # 开机自动启动，/etc/rc.local中加入 vim /etc/rc.local svnserve -d -r /opt/svn Tips # windows系统，桌面右击菜单隐藏svn，强迫症专用 svn setting -> General -> Context Menu # 在Do not show the context menu for the following paths: # 加入桌面路径，如 D:\\users\\desktop Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-04-17 15:40:17 "},"index/linux.html":{"url":"index/linux.html","title":"Linux","keywords":"","body":"Linux Linux系统下常用环境的安装以及相关配置，安装、配置、使用后总结。 yum JDK PHP Node.js Maven MySQL PostgreSQL 挂载硬盘 Nginx Tomcat Redis Solr ftp服务器 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-03-09 11:51:15 "},"linux/yum.html":{"url":"linux/yum.html","title":"Yum","keywords":"","body":"yum 命令相关 yum，是Yellow dog Updater, Modified 的简称，是杜克大学为了提高RPM 软件包安装性而开发的一种软件包管理器。以Centos 7.4 为例 配置阿里源 # 备份原centos源 cd /etc/yum.repos.d mv CentOS-Base.repo CentOS-Base.repo_bk # 下载阿里源http://mirrors.aliyun.com/repo/Centos-7.repo # 重命名 # Centos-7.repo -> CentOS-Base.repo # 上传阿里源到/etc/yum.repos.d/ # 更新源 yum clean all yum makecache Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-04-17 11:04:17 "},"linux/jdk.html":{"url":"linux/jdk.html","title":"JDK","keywords":"","body":"Linux下JDK安装及配置 以Centos 7.4，JDK 1.8 为例 # 下载二进制压缩包https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html # jdk-8u201-linux-x64.tar.gz # 解压 tar -xzvf jdk-8u191-linux-x64.tar.gz # 修改profile vim /etc/profile # 最后面添加 export JAVA_HOME=/opt/jdk1.8.0_191 export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar export PATH=$PATH:$JAVA_HOME/bin # 重新初始化profile source /etc/profile # 查看配置结果 java -version Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-09 16:32:21 "},"linux/php.html":{"url":"linux/php.html","title":"PHP","keywords":"","body":"PHP（Linux环境下） 以Centos 7.4，PHP 7.1.x 为例 安装 # 配置源 rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm # 安装php71w和各种拓展 yum -y install php71w php71w-cli php71w-common php71w-devel php71w-embedded php71w-fpm php71w-gd php71w-mbstring php71w-mysqlnd php71w-opcache php71w-pdo php71w-xml # 测试 php -v 支持nginx HTTP服务 nginx linux环境安装，请参照 # 修改配置文件 vim /etc/php.ini # line.762 取消注释，修改为0 cgi.fix_pathinfo=0 # 启动fpm服务 /usr/sbin/php-fpm # 开机自动启动，/etc/rc.local中加入 vim /etc/rc.local /usr/sbin/php-fpm # nginx配置 location / { root html; index index.php index.html index.htm; } location ~* \\.php$ { fastcgi_index index.php; fastcgi_pass 127.0.0.1:9000; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; } # 重启nginx nginx -s reload # 测试 rm /opt/nginx/html/index.html echo \"\" >> /opt/nginx/html/index.php # 使用浏览器打开，会显示 phpinfo() Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-10 14:15:43 "},"linux/nodejs.html":{"url":"linux/nodejs.html","title":"Node.js","keywords":"","body":"Node.js（Linux环境下） 以Centos 7.4，Node.js 10.15.3 二进制文件安装为例 # 下载地址https://nodejs.org/en/download/ # 安装教程可参考https://github.com/nodejs/help/wiki/Installation # 定义node版本 VERSION=v10.15.0 # 定义系统版本 DISTRO=linux-x64 # 创建安装目录 sudo mkdir -p /usr/local/lib/nodejs # 解压到安装目录 sudo tar -xJvf node-$VERSION-$DISTRO.tar.xz -C /usr/local/lib/nodejs # 修改profile vim /etc/profile # 末尾加入以下内容 # Nodejs VERSION=v10.15.0 DISTRO=linux-x64 export PATH=/usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin:$PATH # 刷新profile source /etc/profile # 检查 node -v npm -v Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-04-17 09:08:06 "},"linux/maven.html":{"url":"linux/maven.html","title":"Maven","keywords":"","body":"Maven（Linux环境下） 以Centos 7.4，Maven 3.6.0 为例 安装 # 下载二进制文件压缩包http://mirrors.shu.edu.cn/apache/maven/maven-3/ # 或者直接下载然后通过ftp工具上传到服务器 wget http://mirrors.shu.edu.cn/apache/maven/maven-3/3.6.0/binaries/apache-maven-3.6.0-bin.tar.gz # 解压 tar -xzvf apache-maven-3.6.0-bin.tar.gz # 修改profile vim /etc/profile export M2_HOME=/opt/apache-maven-3.6.0 # 最后面添加 export PATH=$PATH:$JAVA_HOME/bin:$M2_HOME/bin # 修改PATH # 重新初始化profile source /etc/profile # 查看配置结果 mvn -v 配置 使用华为存储仓库，/conf/settings.xml huaweicloud * https://mirrors.huaweicloud.com/repository/maven/ Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-03-09 11:41:31 "},"linux/mysql.html":{"url":"linux/mysql.html","title":"MySQL","keywords":"","body":"MySQL（Linux环境下） 以Centos 7.4，MySQL5.7.x为例 安装 # 1、查看已安装的mysql rpm -qa|grep -i mysql # 2、删除之前版本 yum -y remove 已安装的名称 # 如： yum -y remove mysql-community-client-5.6.38-2.el7.x86_64 # 3、更新源并安装 cd /opt wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm rpm -ivh mysql57-community-release-el7-11.noarch.rpm yum -y install mysql-server # 4、启动服务，必要的，不然不会生成/var/run/mysqld/mysqld.pid，导致其他错误 systemctl start mysqld 移动相关目录 移动data目录，log目录，相关操作（安装完需先启动mysql，生成数据库文件和log文件之后再进行移动操作） # 停止服务 systemctl stop mysqld # 创建目录 mkdir -p /opt/mysql/data/ # 修改属主和属组 chown -R mysql:mysql /opt/mysql/data # 复制mysql data目录 cp -a /var/lib/mysql /opt/mysql/data/ # 建立链接（如果更新data目录后无法，使用链接的方式） #ln -s /opt/mysql/data/mysql /usr/lib/mysql # 修改my.cfg vim /etc/my.cnf datadir=/opt/mysql/data/mysql # 复制mysql原有data目录可不修改此配置 #socket=/opt/mysql/data/mysql/mysql.sock # 创建目录 mkdir -p /opt/mysql/logs # 修改属主和属组 chown -R mysql:mysql /opt/mysql/logs # 移动log文件，-a带权限复制 cp -a /var/log/mysqld.log /opt/mysql/logs # 修改log目录 vim /etc/my.cnf server_id=1 expire_logs_days=10 log-error=/opt/mysql/logs/mysqld.log # 启动mysql systemctl start mysqld # 开启自动启动 systemctl enable mysqld 修改root密码 # 1、修改配置文件 vim /etc/my.cnf # 增加 skip-grant-tables # 2、重启mysql服务 systemctl restart mysqld # 3、进入mysq命令行 mysql -uroot # ERROR 2002 (HY000): Can’t connect to local MySQL server through socket ‘/var/lib/mysql/mysql.sock’ (2) #mysql -uroot -S /opt/mysql/data/mysql/mysql.sock # 4、执行sql use mysql; SET SQL_SAFE_UPDATES = 0; update mysql.user set authentication_string=password('root') where User='root'; flush privileges; SET SQL_SAFE_UPDATES = 1; # 5、修改配置文件 vim /etc/my.cnf # 去掉 skip-grant-tables # 6、重启mysql服务 systemctl restart mysqld # 7、使用新密码进入mysql mysql -uroot -p # 输入密码进入 修改mysql默认端口 # 1、修改配置文件 vim /etc/my.cnf # 2、在[mysqld]下增加 port= # 3、重启mysql服务 systemctl restart mysqld 创建用户、数据库，授权数据库权限，远程连接 -- 1、创建用户名，%代表可以远程连接 use mysql; CREATE USER 'username'@'%' IDENTIFIED BY 'password'; -- 2、创建数据库 create database testdb; -- 3、用户授权使用指定数据库的指定权限 GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,ALTER ON testdb.* TO 'username'@'%' IDENTIFIED BY 'password'; FLUSH PRIVILEGES; -- 删除用户，无需FLUSH PRIVILEGES; drop user 'username'@'%'; 常见错误 ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executin -- 解决方法 -- 1、修改用户密码 set password=password(\"youpassword\"); -- 或者 alter user 'root'@'localhost' identified by 'youpassword'; -- 2、刷新权限 flush privileges; help contents; ERROR 1819 (HY000): Your password does not satisfy the current policy requirements # 密码强度太弱，建议字母大小写+数字+符号 [Err] 1055 - Expression #1 of ORDER BY clause is not in GROUP BY clause and contains nonaggregated column 'information_schema.PROFILING.SEQ' which is not functionally dependent on columns in GROUP BY clause; this is incompatible with sql_mode=only_full_group_by # 修改my.cnf vim /etc/my.cnf # 在[mysqld]添加以下配置 sql_mode='STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' # 重启mysql服务 systemctl restart mysqld Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-10 14:15:21 "},"linux/pgsql.html":{"url":"linux/pgsql.html","title":"PostgreSQL","keywords":"","body":"PostgreSQL（Linux环境下） 以Centos 7.4，PostgreSQL11.x为例 安装 # 1、官网获取下载地址 # https://www.postgresql.org/download/linux/redhat/ # 2、安装存储库RPM yum install -y https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm # 3、安装pgsql服务 yum install -y postgresql11 postgresql11-server # 4、初始化数据库 /usr/pgsql-11/bin/postgresql-11-setup initdb # 5、启动 systemctl start postgresql-11 # 6、设置自动启动 systemctl enable postgresql-11 卸载 # 1、查询安装的包 rpm -qa | grep postgresql # 2、卸载，多个包，空格隔开 yum remove 创建数据库、用户 # 1、切换到postgres用户 su postgres # 2、启用sql shell psql -- 3、创建用户 CREATE USER WITH PASSWORD 'password'; -- 4、创建数据库 CREATE DATABASE ; -- 5、授权 GRANT ALL PRIVILEGES ON DATABASE TO ; # 6、返回shell \\q # 7、退出shell，切换回root用户 su root 配置 # 1、修改配置 vim /var/lib/pgsql/11/data/postgresql.conf # 修改监听地址，允许远程访问 listen_addresses = '*' # line.59 # 修改端口，云服务器配置开放端口，默认端口：5432 port = 5432 # line.63 # 2、允许远程访问 vim /var/lib/pgsql/11/data/pg_hba.conf # 最末尾加入 # TYPE DATABASE USER ADDRESS METHOD host 0.0.0.0/0 md5 # 3、重启服务 systemctl restart postgresql-11 基本语法 # 查看所有数据库 \\l # 切换当前数据库 \\c # 查看当前数据库下所有表 \\d # 退出数据库返回shell \\q Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-03-05 17:19:33 "},"linux/mount.html":{"url":"linux/mount.html","title":"挂载硬盘","keywords":"","body":"Linux下永久挂载硬盘到指定目录 以Centos 7.4为例 # 1、查看可挂载硬盘 fdisk -l # 2、磁盘分区 fdisk /dev/vdb # 3、参数：输入 n， p， 1， 回车，回车， wq # 4、格式化硬盘 mkfs.ext4 /dev/vdb1 # 5、挂载到指定目录 mount /dev/vdb1 /opt # 6、写入分区表（自动挂载） echo '/dev/vdb1 /opt ext4 defaults 0 0' >> /etc/fstab # 7、查看挂载结果 df -h Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-10 14:16:01 "},"linux/nginx.html":{"url":"linux/nginx.html","title":"Nginx","keywords":"","body":"Nginx（Linux环境下） 以Centos 7.4，Nginx 1.15.8为例 安装 # 1、编译依赖 yum -y install gcc gcc-c++ # 2、nginx依赖 yum -y install zlib zlib-devel openssl openssl-devel pcre pcre-devel # 3、下载 解压nginx-1.15.8.tar.gz tar -xzvf nginx-1.15.8.tar.gz # 4、创建nginx用户 useradd -s /bin/false -M nginx # 5、编译 cd nginx-1.15.8 # 生成makefile，指定用户、组、安装路径、相关模块 ./configure --user=nginx --group=nginx --prefix=/opt/nginx-1.15.8-01/ --with-http_v2_module --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module --with-http_gzip_static_module --with-pcre # 6、编译安装 make && make install # 7、创建nginx命令软链接到环境变量 ln -s /opt/nginx-1.15.8-01/sbin/* /usr/local/sbin/ # 开机自动启动，/etc/rc.local中加入 vim /etc/rc.local nginx location相关 # location表达式类型 ~ 表示执行一个正则匹配，区分大小写 ~* 表示执行一个正则匹配，不区分大小写 ^~ 表示普通字符匹配。使用前缀匹配。如果匹配成功，则不再匹配其他location。 = 进行普通字符精确匹配。也就是完全匹配。 @ 它定义一个命名的 location，使用在内部定向时，例如 error_page, try_files # location优先级 (location =) > (location 完整路径) > (location ^~ 路径) > (location ~,~* 正则顺序) > (location 部分起始路径) > (/) # 1、等号类型（=）的优先级最高。一旦匹配成功，则不再查找其他匹配项。 # 2、^~类型表达式。一旦匹配成功，则不再查找其他匹配项。 # 3、正则表达式类型（~ ~*）的优先级次之。如果有多个location的正则能匹配的话，则使用正则表达式最长的那个。 # 4、常规字符串匹配类型。按前缀匹配。 配置SSL（https） # 安装时--with-http_ssl_module，添加ssl模块 http { server { listen 443 ssl; # 此处加ssl参数，可以不用使用ssl on配置 server_name www.xxx.com; # 域名 #ssl on; ssl_certificate /opt/ssl/xxx.pem; # crt / pem 文件 ssl_certificate_key /opt/ssl/xxx.key; # key ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; location / { root html; index index.html index.htm; } } server { listen 80; server_name xxx.com www.xxx.com; rewrite ^(.*) https://$host$1 permanent; } } 接口代理跨域 http { server { location /api/ { proxy_pass http://192.168.0.12:8080/api/; } # ^~ 表示以某前缀开头 location ^~ /admin/ { proxy_pass http://admin; } } } HTML5 History模式 # 访问路径 / 为根目录，如果非根目录则为 /具体路径 location /path { root html; # webapp的根目录，如果有具体访问路径，也写根目录 index index.html index.htm; # 默认首页 try_files $uri $uri/ /path; # 此处解决刷新404，如果找不到资源会callback 到/path/ } 负载均衡 tomcat 为例反向代理 负载均衡后获取客户端真实IP html { # 添加tomcat列表，真实应用服务器都放在这 upstream tomcat_pool { # server tomcat地址:端口号 weight表示权值，权值越大，被分配的几率越大; server 192.168.0.223:8080 weight=4 max_fails=2 fail_timeout=30s; server 192.168.0.224:8080 weight=4 max_fails=2 fail_timeout=30s; } server { # 默认请求设置 location / { proxy_pass http://tomcat_pool; # 转向tomcat处理 proxy_cookie_domain domino_server nginx_server; # 解决反向代理后Cookie不一致的问题 } # 带有基础路径请求设置 location ^~ /api/ { # host 修改为真实的域名和端口 proxy_set_header Host $http_host; # 客户端真实ip proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; # 客户端真实协议(http/https) proxy_set_header X-Forwarded-Proto $scheme; # 负载均衡upstream proxy_pass http://tomcat_pool/api/; # 转向tomcat处理 proxy_cookie_domain domino_server nginx_server; # 解决反向代理后Cookie不一致的问题 } } } 负载均衡后获取客户端真实IP，java代码 // 负载均衡后获取客户端真实IP地址 public String getClientIp(HttpServletRequest request) { String ip = request.getHeader(\"x-forwarded-for\"); if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) { ip = request.getHeader(\"Proxy-Client-IP\"); } if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) { ip = request.getHeader(\"WL-Proxy-Client-IP\"); } if (ip == null || ip.length() == 0 || \"unknown\".equalsIgnoreCase(ip)) { ip = request.getRemoteAddr(); } if(ip.trim().contains(\",\")){ //为什么会有这一步，因为经过多层代理后会有多个代理，取第一个ip地址就可以了 String [] ips = ip.split(\",\"); ip = ips[0]; } return ip; } gzip http { # gzip模块设置 gzip on; # 开启gzip压缩输出 gzip_min_length 1k; # 最小压缩文件大小 gzip_buffers 4 16k; # 压缩缓冲区 gzip_http_version 1.1; # 用了反向代理的话，末端通信是HTTP/1.0，默认是HTTP/1.1 gzip_comp_level 2; # 压缩等级 gzip_types text/plain application/javascript application/x-javascript text/css application/xml text/javascript application/x-httpd-php image/jpeg image/gif image/png; # 压缩类型 gzip_vary off; # 跟Squid等缓存服务有关，on的话会在Header里增加\"Vary: Accept-Encoding\" gzip_disable \"MSIE [1-6]\\.\"; # ie6不压缩 } 修改nginx.conf、html位置 # 修改nginx.conf位置 # 移动nginx.conf mv /opt/nginx-1.15.8-01/conf/nginx.conf /opt/ # 创建软连接 ln -s /opt/nginx.conf /opt/nginx-1.15.8-01/conf/nginx.conf/ # 修改html位置 # 创建目录 mkdir /opt/nginx-app # 修改配置文件 vim /opt/nginx.conf # 顶部加入 user root; html { server { location / { root /opt/nginx-app; } } } # 重启服务 nginx -s reload Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-09 17:26:24 "},"linux/tomcat.html":{"url":"linux/tomcat.html","title":"Tomcat","keywords":"","body":"Tomcat（Linux环境下） 以Centos 7.4，Tomcat 8.5.43为例 常用配置修改 # {tomcat-path}/config/server.xml 代表了运行在上的单个Web应用 一个可以有多个元素，每个Web应用必须有唯一的URL路径 这个URL路径在中的属性path中设定。 --> 的appBase属性的相对路径 如果Web应用采用开放目录结构，则指定Web应用的根目录 如果Web应用是个war文件，则指定war文件的路径。 --> Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-08-01 16:29:21 "},"linux/redis.html":{"url":"linux/redis.html","title":"Redis","keywords":"","body":"Redis（Linux环境下） 以Centos 7.4，redis 5.0.x 为例 安装 # 下载压缩包https://redis.io/download # /opt/redis-5.0.4.tar.gz cd /opt # 解压 tar -xzvf redis-5.0.4.tar.gz # 编译 cd /opt/redis-5.0.4 make # 安装 cd /opt/redis-5.0.4/src make install PREFIX=/usr/local/redis # 复制配置文件到安装目录 cp -a /opt/redis-5.0.4/redis.conf /usr/local/redis # 修改配置 vim /usr/local/redis/redis.conf bind 127.0.0.1 # line.69 注释掉 port # line.92 修改默认端口 daemonize yes # line.136 守护进程 yes requirepass # line.507 设置密码 maxmemory # line.566 可使用最大内存，单位字节（bytes） notify-keyspace-events Ex # line.1066 键空间通知，过期事件的监听 # 创建软连接 ln -s /usr/local/redis/bin/* /usr/local/sbin/ # 启动服务 redis-server /usr/local/redis/redis.conf # 开机自动启动，/etc/rc.local中加入 vim /etc/rc.local redis-server /usr/local/redis/redis.conf 测试连接 # 无密码 redis-cli # 有密码 redis-cli -a > ping pong Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-09 17:23:50 "},"linux/solr.html":{"url":"linux/solr.html","title":"Solr","keywords":"","body":"Solr（Linux环境下） 以Centos 7.4，solr 8.1 为例 安装 # 下载压缩包http://lucene.apache.org/solr/mirrors-solr-latest-redir.html # /opt/solr-8.1.0.tgz cd /opt # 解压 tar -xzvf solr-8.1.0.tgz # 创建core cd /opt/solr-8.1.0/server/solr/configsets cp -r _default ../ mv _default # 创建软连接 ln -s /opt/solr-8.1.0/bin/solr /usr/local/sbin/ # 启动服务 start：启动服务；stop：停止服务；restart：重启服务 -p 自定义端口 -m 内存 solr start -p 8398 -force -m 1g # 开机自动启动，/etc/rc.local中加入 vim /etc/rc.local solr start -p 8398 -force -m 1g 使用 基本使用 # 访问 http://:8398/solr # 菜单 -> Core Admin # 添加core，名字为上一步文件夹名（core name） 添加hanlp中文分词器，分词插件 # https://github.com/hankcs/hanlp-lucene-plugin # 下载jar包hanlp-portable-1.7.3.jar、hanlp-lucene-plugin-1.1.6.jar # 添加jar包到 cd /opt/solr-8.1.0/server/solr-webapp/webapp/WEB-INF/lib # 修改配置文件 cd /opt/solr-8.1.0/server/solr//conf vim managed-schema # 末尾标签内增加相关配置 --> # 重启solr服务 solr restart -p 8398 -force -m 1g 相关问题 # *** [WARN] *** Your Max Processes Limit is currently 7270. # It should be set to 65000 to avoid operational disruption. # If you no longer wish to see this warning, set SOLR_ULIMIT_CHECKS to false in your profile or solr.in.sh # WARNING: Starting Solr as the root user is a security risk and not considered best practice. Exiting. # Please consult the Reference Guide. To override this check, start with argument '-force' # 启动时后面加参数-force solr start -p 8398 -force -m 1g Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-06-21 18:18:56 "},"linux/ftp.html":{"url":"linux/ftp.html","title":"ftp服务器","keywords":"","body":"FTP服务器（Linux环境下） 以Centos 7.4 为例 安装 # 查询是否安装vsftpd rpm -qa | grep vsftpd # 安装 yum install -y vsftpd # 创建ftp主目录 mkdir /opt/www # 创建ftp用户 useradd -d /opt/www -m ftpuser # 设置新用户密码 passwd ftpuser # 更改用户权限 usermod -s /sbin/nologin ftpuser # 限定用户ftpuser不能telnet，只能ftp # usermod -s /sbin/bash ftpuser # 用户ftpuser恢复正常 # usermod -d /opt/www ftpuser # 更改用户ftpuser的主目录为/opt/www # 文件授权给ftp用户 chown -R ftpuser /opt/www # 进入vsftpd目录 cd /etc/vsftpd # 创建chroot_list并写入ftp用户 echo 'ftpuser' > chroot_list # 在user_list中加入ftp用户 vim /etc/vsftpd/user_list # 修改配置文件 vim /etc/vsftpd/vsftpd.conf anonymous_enable=NO # line.12 禁止匿名用户 chroot_local_user=YES # line.101 chroot_list_enable=NO # line.102 禁止chroot_list中用户切换目录 chroot_list_file=/etc/vsftpd/chroot_list # line.104 定义不能更改用户主目录的文件，该文件需自己创建，默认被注释 listen=YES # line.115 监听ipv4 listen_ipv6=NO # line.124 不监听ipv6 userlist_enable=YES # line.127 启用白名单 userlist_deny=NO # line.128 禁用黑名单 local_root=/opt/www # 新增，ftp根目录 pasv_max_port=5510 # 新增，被动端口 pasv_min_port=5500 # 新增，被动端口 allow_writeable_chroot=YES # 新增，支持chroot_list中的用户write权限 # 启动服务器 systemctl start vsftpd # 开机自动启的 systemctl enable vsftpd 相关问题 云服务器设置安全组后需要开放相关接口 # 20 - 22 # 被动端口 5500 - 5510 331 Please specify the password. # 可能性较大的原因是密码强度太低，不影响登录 500 OOPS: cannot change directory:/opt/www/images # 原因，文件权限导致 # 只设置了images目录的ftp的用户权限，需要设置www的用户权限 cd /opt chown -R ftpuser www/ cd /opt/www chown -R ftpuser images/ # 特殊情况！如果与ftpuser同一用户组用户test也需要访问/opt/www，需要给www文件夹设置权限 chmod 770 www Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-10 14:16:28 "},"index/jenkins.html":{"url":"index/jenkins.html","title":"Jenkins","keywords":"","body":"Jenkins Jenkins相关 安装 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-03-22 11:25:51 "},"jenkins/install.html":{"url":"jenkins/install.html","title":"安装","keywords":"","body":"Jenkins安装 Jenkins安装前需先安装JDK，可参照JDK安装及配置 安装 方式1，推荐 # 添加yum源 sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo # 导入密钥 sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key # 安装 sudo yum install -y jenkins 方式2，下载离线安装包安装 以Centos 7.4 为例，下载jenkins-2.150.3-1.1.noarch.rpm rpm -ih jenkins-2.150.3-1.1.noarch.rpm 修改java目录 vim /etc/init.d/jenkins # 大约75行，添加java目录 candidates=\" /opt/jdk1.8.0_191/bin/java ... \" # 保存后运行一下命令，重新加载 systemctl daemon-reload # 启动 systemctl start jenkins 开机启动 # 由于Jenkins不是Native Service，所以需要用chkconfig命令而不是systemctl命令 sudo /sbin/chkconfig jenkins on 修改默认端口号 vim /etc/sysconfig/jenkins # 大约56行，将默认端口8080修改即可 JENKINS_PORT=\"8765\" # 重启服务 systemctl restart jenkins Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-01-10 14:16:46 "},"index/zentao.html":{"url":"index/zentao.html","title":"ZenTao","keywords":"","body":"禅道 禅道 项目管理软件 是国产的开源项目管理软件,专注研发项目管理,内置需求管理、任务管理、bug管理、缺陷管理、用例管理、计划发布等功能,实现了软件的完整生命周期管理。 安装 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-04-17 14:39:50 "},"zentao/install.html":{"url":"zentao/install.html","title":"安装","keywords":"","body":"禅道安装（Linux环境下） 以Centos 7.4，ZenTaoPMS.11.4.1 为例需要提前安装以下依赖，可点击链接参考 nginx，mysql，php # nginx中新建项目根目录html_zen_tao（和html同级） # 配置nginx.conf server { listen 8888; server_name 140.143.232.110; location / { root html_zen_tao; index index.php index.html index.htm; } location ~* \\.php$ { fastcgi_index index.php; fastcgi_pass 127.0.0.1:9000; include fastcgi_params; # fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; # 自定义项目根目录后需用绝对路径方式配置SCRIPT_FILENAME # 否则访问php文件会显示 No input file specified. fastcgi_param SCRIPT_FILENAME /opt/nginx/html_zen_tao/$fastcgi_script_name; fastcgi_param SCRIPT_NAME $fastcgi_script_name; } } # 下载禅道项目管理软件源码 https://www.zentao.net/download/80131.html # ZenTaoPMS.11.4.1.zip # 解压到html_zen_tao unzip ZenTaoPMS.11.4.1.zip # 通过IP地址访问http://IP:PORT/zentaopms/www/index.php # 根据提示进行安装 常见问题 PDO扩展、PDO_MySQL扩展、MBSTRING扩展 未加载 # 修改配置文件 vim /etc/php.ini # line.725，修改并添加 extension_dir = \"/usr/lib64/php/modules\" extension=pdo_mysqlnd.so extension=mbstring.so extension=pdo.so # 重启php-fpm ps aux | grep php-fpm kill -9 xxxx # 你懂得 /usr/sbin/php-fpm Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-04-17 15:44:06 "},"index/ide.html":{"url":"index/ide.html","title":"开发工具","keywords":"","body":"开发工具 常用开发工具配置、插件等 VSCode IDEA Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-12-18 17:22:22 "},"ide/vscode.html":{"url":"ide/vscode.html","title":"VSCode","keywords":"","body":"VSCode 配置 { // 取消提示js装饰器的错误提示 \"javascript.implicitProjectConfig.experimentalDecorators\": true, \"explorer.autoReveal\": false, \"editor.fontSize\": 18, \"terminal.integrated.fontSize\": 17, // 命令行工具，以git为例 // \"terminal.integrated.shell.windows\": \"C:\\\\Program Files\\\\Git\\\\bin\\\\bash.exe\", \"editor.tabSize\": 2, \"editor.multiCursorModifier\": \"ctrlCmd\", \"editor.snippetSuggestions\": \"top\", \"editor.formatOnPaste\": true, \"workbench.colorTheme\": \"Monokai\", \"workbench.startupEditor\": \"newUntitledFile\", \"workbench.sideBar.location\": \"left\", \"window.zoomLevel\": 0, \"breadcrumbs.enabled\": false, // eslint 代码自动检查相关配置 \"eslint.enable\": true, \"eslint.run\": \"onType\", \"eslint.options\": { \"extensions\": [ \".js\", \".vue\", \".jsx\" ] }, \"eslint.validate\": [ \"javascriptreact\", \"vue\", \"javascript\", { \"language\": \"vue\", \"autoFix\": true }, \"html\", { \"language\": \"html\", \"autoFix\": true } ], // 不校验vue模版中的自定义标签使用闭合标签 \"vetur.validation.template\": false, \"workbench.iconTheme\": \"vscode-icons\" /* , // px转rem设置 \"px2rem.rootFontSize\": 50, \"px2rem.isNeedNotes\": false */ } 常用插件 # 中文 Chinese (Simplified) Language Pack for Visual Studio Code # 编辑器代码格式化 EditorConfig for VS Code # js格式校验 ESLint # git忽略 gitignore # css预编译stylus language-stylus # 路径自动补全 Path Intellisense # react Simple React Snippets # sublime键位 Sublime Text Keymap # vue Vetur # 资源管理器图标 vscode-icons # () [] {} 匹配高亮区分，有版本2可用 Bracket Pair Colorizer # flutter开发插件，自动安装dart插件 Flutter # flutter 模版 Flutter Widget Snippets # px2rem.rootFontSize 默认设计稿宽750px，默认使用iphone7 设备宽375px 开发，按照index.js[x]中的rem自适应计算方法为 50 # 详细配置查看该插件说明 px2rem 部分快捷键配置 # 1、代码提示 # 原快捷键 Ctrl + space，与系统冲突，修改即可 # 文件 -> 首选项 -> 键盘快捷方式，搜索“触发建议”，修改为 Alt + / ，按enter键保存即可 Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2019-11-19 11:09:12 "},"ide/idea.html":{"url":"ide/idea.html","title":"IDEA","keywords":"","body":"IDEA 远程调试 jar包方式启动java项目，可以使用idea进行远程调试1、远程服务器启动项目 2、IDEA run Debug \\ 3、IDEA 断点调试 nohup java -Xms256m -Xmx256m -jar -Xdebug -Xrunjdwp:transport=dt_socket,suspend=n,server=y,address= .jar >/dev/null 2>&1 & # IDEA 设置 run -> Edit Configurations -> + -> Remote Name: Host: Port: 常用插件 File -> Settings -> Plugins # 社区版Spring支持 Spring Assistant # Flutter相关，自动安装Dart Flutter # JRebel IDEA上热部署 JRebel and XRebel for IntelliJ # 破解 # 1、生成GUID：https://www.guidgen.com/ # 2、Help -> JRebel -> Activation -> Team URL分别填写 https://jrebel.qekang.com/ # 3、 勾选协议，Activate JRebel # 4、next enable JRebel -> I agree # 5、重启IDEA，JRebel setup guide按照提示操作 # Mybatis扩展支持 Free Mybatis plugin 常用设置 路径等配置 # 字体及大小 File -> Settings -> Editor -> Font Font: Consolas Size: 16 Line Spacing: 1.2 # Maven，使用本地Maven File -> Settings -> Build, Execution, Deployment -> Build Tools -> Maven Maven home directory: User settings file: # JDK设置，一般系统会自动设置，无需手动设置 File -> Settings -> Build, Execution, Deployment -> Build Tools -> Maven -> Runner JRE: # Flutter SDK路径设置，配置后，Dart会自动配置 File -> Settings -> Languages & Frameworks -> Flutter Flutter SDK path: # 关闭Idea版本自动更新 File -> Settings -> Appearance & Behavior -> System Settings -> Updates # 取消代码重复提示 File -> Settings -> Editor -> Inspections -> General -> Duplicated Code # 注释模版，java方法 File -> Settings -> Editor -> Live Templates 1、右侧 + 选择 Template Group 填写名字 2、右侧 + 选择 Live Template 3、设置 （1）Abbreviation: （2）Description: （3）Template text: * * $target$ $param$ * @return $return$ */ （4）Expand with: （5）Edit variables: param: groovyScript(\"def result=''; def params=\\\"${_1}\\\".replaceAll('[\\\\\\\\[|\\\\\\\\]|\\\\\\\\s]', '').split(',').toList(); for(i = 0; i Settings -> Editor -> File and Code Templates 1、选中Files -> Class 2、选择Includes -> File Header /** * ${ClassName} * @author * @since ${YEAR}-${MONTH}-${DAY} ${HOUR}:${MINUTE}:00 */ 快捷键 # 代码补全，Eclipse中Alt + / File -> Settings -> Keymap -> Main menu -> Code -> Completion Cyclic Expand Word: Basic: Copyright © blog.wdg.pub 2019 all right reserved，powered by Gitbook该文件修订时间： 2020-03-09 10:21:29 "}}